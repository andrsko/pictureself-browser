{"version":3,"sources":["components/logo/logo.svg","components/navlink/index.js","components/usermenu/guestnav.js","components/avatar/index.js","components/usermenu/usernav.js","components/usermenu/index.js","api/constants.js","reducers/auth.js","actions/types.js","reducers/modal.js","reducers/register.js","reducers/userprofile.js","reducers/users.js","reducers/customize.js","reducers/index.js","store.js","utils/config.js","api/avatar.js","actions/modal.js","utils/errorhandler.js","actions/auth.js","api/user.js","actions/register.js","actions/userprofile.js","actions/users.js","components/logo/index.js","containers/header/index.js","components/loader/index.js","components/statusmessage/index.js","components/register/index.js","components/modal/index.js","containers/modal/register.js","components/login/index.js","containers/modal/login.js","components/editprofile/index.js","containers/modal/editprofile.js","containers/modal/index.js","containers/loginregisterpage/registerpage.js","containers/loginregisterpage/loginpage.js","containers/loginregisterpage/index.js","utils/imagecomposer.js","components/gallery/index.js","components/profile/index.js","containers/userprofile/index.js","components/usercard/index.js","components/userlist/index.js","containers/users/index.js","components/notfoundpage/index.js","components/editpictureself/index.js","components/createpn/index.js","components/likes/index.js","components/subscriptionlist/index.js","components/privateroute/index.js","components/p/index.js","components/customize/index.js","containers/customize/index.js","actions/customize.js","utils/emojis.js","components/emojipanel/index.js","components/home/index.js","components/about/index.js","components/blog/index.js","components/help/index.js","components/privacy/index.js","components/terms/index.js","components/searchresults/index.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Navlink","react_default","a","createElement","className","Link","to","Button","style","background-color","font-family","font-weight","margin","color","padding","content","size","Popup","trigger","font-size","flowing","hoverable","on","position","Component","withRouter","GuestNav","_this$props","this","props","showLogin","showRegister","border","id","onClick","compact","Avatar","avatar","centered","link","avatarComponent","Image_Image","src","UserNav","username","logout","showEditProfile","history","name","mouseEnterDelay","verticalOffset","margin-left","margin-right","push","borderRadius","opacity","padding-top","padding-bottom","padding-left","padding-right","inverted","basic","Dropdown","selection","display","align-items","min-width","text-align","Icon","icon","Menu","border-color","Item","concat","text","UserMenu","isAuthenticated","isLoading","usernav","guestnav","API_URL","process","USER_URL","USER_REGISTER_URL","USER_LOGIN_URL","USER_LOGOUT_URL","USER_AVATAR_EDIT_URL","loginInitialState","token","error","editInitialState","isEditing","editError","editSuccess","initialState","Object","objectSpread","auth","state","arguments","length","undefined","action","type","modalType","modalProps","modal","register","profile","userProfile","users","customize","customization","rootReducer","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistConfig","key","storage","stateReconciler","autoMergeLevel2","persistedReducer","persistReducer","store","createStore","applyMiddleware","thunkMiddleware","persistor","persistStore","getConfig","getState","headers","Authorization","avatarEditApi","file","formData","FormData","append","config","content-type","axios","post","showModal","apiErrorHandler","response","data","erd","detail","keys","errorString","indexOf","errorField","String","replace","charAt","toUpperCase","substring","console","log","login","password","dispatch","loginRequest","loginApi","then","loginSuccess","catch","errorMessage","loginFailure","editProfile","newProfile","editProfileRequest","put","editProfileApi","editProfileSuccess","editProfileFailure","registerRequest","registerApi","registerSuccess","registerFailure","fetchUserProfile","fetchUserProfileRequest","get","fetchUserProfileApi","fetchUserProfileSuccess","fetchUserProfileFailure","fetchUsers","fetchUsersRequest","fetchUsersSuccess","fetchUsersFailure","Logo","logo","alt","title","HeaderContainer","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleSearchInputChange","event","setState","searchQuery","target","value","handleSearchInputSubmit","handleSearchInputKeyPress","e","charCode","handleLogout","components_logo","Input","height","width","placeholder","onChange","onKeyPress","navlink","usermenu","connect","Loader","StatusMessage","loading","loadingClassName","loadingMessage","errorClassName","success","successClassName","successMessage","nothing","nothingClassName","nothingMessage","Message","attached","Content","loader","positive","Register","handleChange","_ref","defineProperty","handleCheckbox","checked","isFormValid","_this$state","email","handleSubmit","handleRegister","statusMessage","statusmessage_StatusMessage","header","Form","required","label","Checkbox","inline","disabled","warning","Modal","listenKeyboard","keyCode","onClose","closeModal","onDialogClick","stopPropagation","addEventListener","removeEventListener","overlayStyle","contentStyle","dialogStyle","children","RegisterModal","handleClose","modal_Modal","register_Register","Login","handleLogin","LoginModal","login_Login","EditProfile","onImageDrop","files","avatarFile","current_password","currentPassword","new_password","newPassword","about","handleEdit","avatarUploading","avatar_url","avatarError","_this$props2","_this$state2","avatarURL","preview","Grid","celled","columns","Column","Field","dist_es","onDrop","multiple","accept","control","TextArea","maxLength","EditProfileModal","minWidth","editprofile_EditProfile","modal_register","modal_login","editprofile","showLogInPage","from","Redirect","showRegisterPage","LoginRegisterPage","userIsRegistered","bind","assertThisInitialized","location","pathname","loginpage","registerpage","imageComposer","urls","images","promises","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","url","image","Image","crossOrigin","includes","performance","now","setImageListeners","err","return","maxWidth","maxHeight","Promise","all","Math","max","apply","map","canvas","document","ctx","getContext","_i","_images","drawImage","canvasDataUrl","toDataURL","resolve","reject","Gallery","composeImages","pictureselfs","_loop","i","image_urls","composedImage","newCanvasDataURLs","toConsumableArray","canvasDataURLs","newWidths","widths","newHeights","heights","imagesComposed","alert","redirectToCustomize","nImagesComposed","prevProps","_this2","columnWidth","channel","box_shadow_heights","pCards","canvasDataURL","pictureself","customizeButton","is_customizable","titleP","toString","box-shadow","max-width","z-index","lib_default","monitorImagesLoaded","gutterWidth","gutterHeight","duration","margin-top","visibility","Profile","_isMounted","fetchPictureselfsUserApi","params","fetchPictureselfsUser","toggleSubscribeApi","toggleSubscribe","numberOfSubscribers","isSubscribed","match","isCustomizable","subscribeButton","margin-bottom","backgroundColor","components_avatar","white-space","linkifyjs_react_default","tagName","gallery","UserProfileContainer","newProps","oldUsername","futureUsername","date_joined","is_subscribed","number_of_subscribers","components_profile","dateJoined","UserCard","UserList","userCardList","user","usercard","UsersContainer","userlist_UserList","NotFoundPage","EditVariant","hoverOn","hover","hoverOff","insertVariantButton","insert","Fragment","as","htmlFor","feature_index","variant_index","hidden","insertVariant","class","onMouseEnter","onMouseLeave","variant_url","variant_name","removeVariant","variant_id","updateVariant","EditFeature","_this3","showImportFeatureDropdown","importFeature","handleDismiss","importedFeatureMessage","handleFeatureImportDropdownChange","feature_to_include","includeFeature","_ref2","imported","setTimeout","updateFeature","feature_id","importVariantsCheckboxHandleChange","_ref3","importVariantsIsChecked","showInsertPositions","_ref4","insertChecked","handleInsertButtonClick","insertFeature","insertFeatureBlock","_this4","featureToImportOptions","option_create_new","_Object$entries","entries","features_to_include","_ref7","_ref6","slicedToArray","option","insertCheckbox","options","defaultValue","variant_order","slider","editImportedFeatureErrorMessage","editVariantsMenu","editVariants","index","editpictureself_EditVariant","variant_names","variant_urls","variant_file","variant_files","onDismiss","variantsAreImported","addVariants","Group","remove_feature","EditPictureself","_this5","fetchPictureselfApi","fetchFeaturesToIncludeApi","deletePictureselfApi","delete","editVariantApi","set","createVariantApi","editPictureselfInfoApi","info","_i2","_Object$entries2","_ref10","_ref9","pictureself_id","fetchPictureself","pictureself_title","initial_pictureself_title","pictureself_description","pictureself_tags","channel_username","customizableIsChecked","nonCustomizableImageURL","nonCustomizableImageAlt","variants","variantsLength","original_name","feature_order","JSON","parse","string_ids_feature_order","string_ids_variant_order","feature_order_length","variant_order_length","variant_order_line","variant_order_line_length","j","string_ids_features","features","features_length","onCustomizableCheck","_ref11","onNonCustomizableImageChange","nonCustomizableImageFile","URL","createObjectURL","getNewFiles","edited_created_variant_ids","created_variant_ids","edited_variant_ids","getNewInfo","normalized_feature_order","slice","normalized_feature_order_length","description","tags","stringify","_ref12","_ref13","_ref14","handlePictureselfTitleChange","handlePictureselfDescriptionChange","handlePictureselfTagsChange","newTitle","feature_position","new_features","new_id","nfc","new_feature","new_nfc","new_feature_order","splice","new_variant_order","new_feature_id","features_with_imported_variants","removeFeature","addFeature","new_file","variant_position","nvc","new_url","new_name","new_nvc","new_variant_files","new_variant_names","new_variant_urls","number_of_files","new_variant_ids","temp_var_id","atLeastOneVariant","createVariants","createdVariantIds","variantFiles","nChunks","sequence","remainder","iChunkSize","createdVariantIdsChunk","createdVariantFilesChunk","createdVariantId","createVariantsChunk","legitCreatedVariantIds","legitCreatedVariantIdsChunk","nFilesUploaded","_loop2","editedVariantIds","_loop3","editedVariantIdsChunk","editedVariantFilesChunk","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","editedVariantId","editVariantsChunk","_loop4","showErrorOnPost","message","errorOnPost","editNonCustomizablePictureselfApi","_i6","_Object$entries3","_ref17","_ref16","editPictureself","pictureselfId","_this5$state","isUploading","newInfo","newFiles","idRedirectTo","new_pictureself_id","showPostError","newData","handleDeletePictureself","deleteModalShow","showDeleteModal","closeDeleteModal","_this6","_this7","reversed_feature_order","reverse","_i7","_Object$entries4","_ref20","_ref19","editfeatures","editpictureself_EditFeature","toggle","editContentMenu","marginTop","floated","Modal_Modal","open","Header","Actions","primary","createPictureself","CreatePN","postPictureselfApi","postPictureselfSequence","titles","postPictureselfs","titlesArray","handleTitlesChange","handleImagesChange","nFiles","newNames","newUrls","names","marginLeft","Likes","fetchPictureselfsIndexApi","fetchPictureselfsIndex","SubscriptionList","fetchChannels","fetchChannelsApi","channels","PrivateRoute","component","rest","objectWithoutProperties","Route","assign","render","P","fetchPictureselfDisplayApi","fetchPictureselfDisplay","imageUrls","comment","isLiked","numberOfLikes","date","toggleLike","buttonsDivHeight","buttonsDiv","clientHeight","toggleLikeApi","likePopupIsVisible","redirectToEdit","imgPaddingLeftRight","imgPaddingTopBottom","avatarImageSrc","popupStyle","menuDivHeight","infoDivHeight","months","dateDisplay","parseInt","substr","editButton","border-right","ref","href","download","labelPosition","Label","Customize","customizationVariantImageUrls","featureVariantImageUrls","activeFeatureIndex","allFeatureIds","activeFeatureId","underLayerImageUrls","overLayerImageUrls","layerPromises","underLayerCanvasDataURL","underLayerPromise","overLayerCanvasDataURL","overLayerPromise","middleLayerIndex","fetchPictureselfFeaturesApi","fetchChannelFeaturesApi","fetchFeaturesApiPictureselfChannelSwitch","fetchFeatures","featureIds","featureTitles","fetchPictureselfCustomizationVariants","fetchPictureselfCustomizationPositionApi","featureId","fetchPictureselfCustomizationVariantsApi","customizationVariantAlts","handleActiveFeatureChange","fetchPictureselfFeatureVariants","fetchPictureselfFeatureVariantsApi","featureVariantAlts","fetchPictureselfCustomizationPosition","activeOptionIndex","editCustomizationPositionApi","new_active_feature_id","newActiveOptionIndex","handleActiveOptionChange","editCustomization","newCustomizationVariantImageUrls","_this$state3","featureMenu","active","filter","optionCards","COLUMN_WIDTH","CustomizeContainer","customizations","customize_Customize","newCustomization","emojis","smileys","peopleAndFantasy","clothingAndAccessories","animalsAndNature","foodAndDrink","activityAndSports","travelAndPlaces","objects","symbols","flags","EmojiPanel","searchEmoji","emoji","scrollPosition","getElementById","scrollTop","search","isExpanded","handleEmojiPanelExpandClick","emojiLinks","emojiSetName","emojiSetLinks","role","cursor","marginRight","pop","emojiPanel","Home","shuffle","x","floor","random","emojipanel","About","Blog","Help","layersExample","border-style","border-width","Privacy","Terms","SearchResults","fetchPictureselfsSearchApi","query","URLSearchParams","fetchPictureselfsSearch","xpnd","parsedScr","parseFloat","scr","isNaN","noResultsMessage","Boolean","hostname","ReactDOM","es","integration_react","BrowserRouter","react","Switch","path","exact","containers_modal","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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A,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBAogDAC,iBAjgDuB,CACvB,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,iCACA,iCACA,eACA,eACA,iCACA,iCACA,uCACA,uCACA,uCACA,iCACA,uCACA,iCACA,iCACA,uCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,uCACA,uCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,eACA,eACA,eACA,eACA,eACA,eACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,eACA,eACA,eACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,eACA,eACA,eACA,eACA,iCACA,iCACA,eACA,iCACA,iCACA,iCACA,iCACA,eACA,eACA,eACA,eACA,mDACA,mDACA,eACA,qEACA,qEACA,eACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,iCACA,iCACA,mDACA,mDACA,mDACA,iCACA,iCACA,mDACA,mDACA,mDACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBAgzCAC,uBA7yC6B,CAC7B,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBA0wCAC,iBAvwCuB,CACvB,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBAsmCAC,aAnmCmB,CACnB,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBA6/BAC,kBA1/BwB,CACxB,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,uCACA,6CACA,6CACA,6CACA,6CACA,6CACA,uCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,iCACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,uCACA,uCACA,uCACA,uCACA,uCACA,iCACA,uCACA,uCACA,uCACA,uCACA,uCACA,eACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,uCACA,6CACA,6CACA,6CACA,6CACA,6CACA,uCACA,6CACA,6CACA,6CACA,6CACA,6CACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,iCACA,6CACA,6CACA,6CACA,6CACA,6CACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,gBAgxBAC,gBA9wBsB,CACtB,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBAgrBAC,QA9qBc,CACd,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBAkhBAC,QAhhBc,CACd,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,qBACA,eACA,eACA,qBACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,qBACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,eACA,eACA,gBACA,gBACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBAgRAC,MA9QY,CACZ,qBACA,eACA,eACA,eACA,uCACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2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","file":"static/js/main.e50bec07.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.9885d522.svg\";","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Popup, Menu } from \"semantic-ui-react\";\r\n\r\nimport \"./styles.css\";\r\n\r\nclass Navlink extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"navlinkContainer\">\r\n        <Link to=\"/\">\r\n          <Button\r\n            style={{\r\n              \"background-color\": \"transparent\",\r\n              \"font-family\": '\"Arial\", Helvetica, sans-serif',\r\n              \"font-weight\": \"normal\",\r\n              margin: \"0\",\r\n              color: \"rgb(55,55,55)\",\r\n              padding: \"10px\"\r\n            }}\r\n            content=\"Home\"\r\n            size=\"large\"\r\n          />\r\n        </Link>\r\n\r\n        <Link to=\"/browse\">\r\n          <Button\r\n            style={{\r\n              \"background-color\": \"transparent\",\r\n              \"font-family\": '\"Arial\", Helvetica, sans-serif',\r\n              \"font-weight\": \"normal\",\r\n              margin: \"0\",\r\n              color: \"rgb(55,55,55)\",\r\n              padding: \"10px\"\r\n            }}\r\n            content=\"Browse\"\r\n            size=\"large\"\r\n          />\r\n        </Link>\r\n        <Popup\r\n          trigger={\r\n            <Button\r\n              style={{\r\n                \"background-color\": \"transparent\",\r\n                \"font-family\": '\"Arial\", Helvetica, sans-serif',\r\n                \"font-weight\": \"bold\",\r\n                \"font-size\": \"20px\",\r\n                margin: \"0\",\r\n                color: \"rgb(55,55,55)\",\r\n                padding: \"10px\"\r\n              }}\r\n              content=\"\"\r\n              size=\"large\"\r\n            />\r\n          }\r\n          flowing\r\n          hoverable\r\n          on=\"click\"\r\n          position=\"bottom center\"\r\n        >\r\n          <Link to=\"/about\">\r\n            <p className=\"navlink-ellipsis-link\">About</p>\r\n          </Link>\r\n          <Link to=\"/blog\">\r\n            <p className=\"navlink-ellipsis-link\">Blog</p>\r\n          </Link>\r\n          <Link to=\"/terms\">\r\n            <p className=\"navlink-ellipsis-link\">Terms</p>\r\n          </Link>\r\n          <Link to=\"/privacy\">\r\n            <p className=\"navlink-ellipsis-link\">Privacy Policy</p>\r\n          </Link>\r\n          <Link to=\"/help\">\r\n            <p className=\"navlink-ellipsis-link\">Help</p>\r\n          </Link>\r\n        </Popup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Navlink);\r\n","import React, { Component } from \"react\";\r\nimport { Button } from \"semantic-ui-react\";\r\nimport \"./styles.css\";\r\nimport NavLink from \"../navlink\";\r\n\r\nclass GuestNav extends Component {\r\n  render() {\r\n    const { showLogin, showRegister } = this.props;\r\n    return (\r\n      <div className=\"guestMenu\">\r\n        <Button\r\n          style={{\r\n            \"background-color\": \"transparent\",\r\n            \"font-family\": '\"Arial\", Helvetica, sans-serif',\r\n            \"font-weight\": \"normal\",\r\n            \"font-size\": \"14px\",\r\n            margin: \"0\",\r\n            color: \"rgb(55,55,55)\",\r\n\r\n            border: \"1px solid rgb(215,215,215)\"\r\n          }}\r\n          content=\"Log in\"\r\n          size=\"large\"\r\n          id=\"btn-log-in\"\r\n          onClick={showLogin}\r\n          compact\r\n        />\r\n        <Button\r\n          style={{\r\n            \"background-color\": \"transparent\",\r\n            \"font-family\": '\"Arial\", Helvetica, sans-serif',\r\n            \"font-weight\": \"normal\",\r\n            \"font-size\": \"14px\",\r\n            margin: \"0\",\r\n            color: \"rgb(55,55,55)\"\r\n          }}\r\n          id=\"btn-sign-up\"\r\n          content=\"Sign up\"\r\n          size=\"large\"\r\n          onClick={showRegister}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GuestNav;\r\n","import React from \"react\";\r\nimport { Image } from \"semantic-ui-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./styles.css\";\r\n\r\nconst Avatar = props => {\r\n  let { className, avatar, centered, link } = props;\r\n\r\n  avatar = avatar || \"https://afcm.ca/wp-content/uploads/2018/06/no-photo.png\";\r\n  centered = centered !== null ? centered : true;\r\n  className = className || \"avatar\";\r\n  const avatarComponent = (\r\n    <Image className={className} src={avatar} centered={centered} />\r\n  );\r\n  if (link) {\r\n    return <Link to={link}>{avatarComponent}</Link>;\r\n  }\r\n  return avatarComponent;\r\n};\r\n\r\nexport default Avatar;\r\n","import React, { Component, Fragment } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport Avatar from \"../avatar\";\r\nimport { Menu, Dropdown, Image, Icon } from \"semantic-ui-react\";\r\nimport \"./styles.css\";\r\nimport NavLink from \"../navlink\";\r\nimport { Button, Popup } from \"semantic-ui-react\";\r\n\r\nclass UserNav extends Component {\r\n  render() {\r\n    const { username, logout, showEditProfile, history, name } = this.props;\r\n    const avatar =\r\n      this.props.avatar == \"\"\r\n        ? \"https://afcm.ca/wp-content/uploads/2018/06/no-photo.png\"\r\n        : this.props.avatar;\r\n    const myProfile = () => {\r\n      history.push(`/${username}`);\r\n    };\r\n    const handleNewPictureselfButtonClick = () => {\r\n      history.push(\"/p/0/edit\");\r\n    };\r\n    const handleSubscriptionsButtonClick = () => {\r\n      history.push(\"/subscriptions\");\r\n    };\r\n    const handleLikesButtonClick = () => {\r\n      history.push(\"/likes\");\r\n    };\r\n    const popupStyle = {\r\n      borderRadius: 3,\r\n      opacity: 0.8,\r\n      \"padding-top\": \"0.25em\",\r\n      \"padding-bottom\": \"0.25em\",\r\n      \"padding-left\": \"0.5em\",\r\n      \"padding-right\": \"0.5em\"\r\n    };\r\n\r\n    return (\r\n      <div className=\"userMenuOuter\">\r\n        <Popup\r\n          position=\"bottom center\"\r\n          mouseEnterDelay={750}\r\n          verticalOffset={3}\r\n          trigger={\r\n            <Button\r\n              style={{\r\n                \"background-color\": \"transparent\",\r\n                \"font-family\": '\"Arial\", Helvetica, sans-serif',\r\n                \"font-weight\": \"normal\",\r\n                \"font-size\": \"28px\",\r\n                \"margin-left\": \"0px\",\r\n                \"margin-right\": \"5px\",\r\n                color: \"rgb(55,55,55)\",\r\n                padding: \"10px\"\r\n              }}\r\n              content=\"+\"\r\n              size=\"large\"\r\n              onClick={handleNewPictureselfButtonClick}\r\n            />\r\n          }\r\n          content=\"New Pictureself\"\r\n          size=\"large\"\r\n          style={popupStyle}\r\n          inverted\r\n          basic\r\n        />\r\n        <Dropdown\r\n          id=\"usermenu-dropdown\"\r\n          selection\r\n          compact\r\n          trigger={\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                \"align-items\": \"center\",\r\n                \"min-width\": \"125px\"\r\n              }}\r\n            >\r\n              <div>\r\n                <Image id=\"usermenu-dropdown-avatar\" src={avatar} />\r\n              </div>\r\n              <div>\r\n                <p\r\n                  style={{\r\n                    \"margin-left\": \"10px\",\r\n                    \"margin-right\": \"0px\",\r\n                    color: \"rgb(55,55,55)\",\r\n                    \"font-size\": \"16px\"\r\n                  }}\r\n                >\r\n                  {name || username}\r\n                </p>\r\n              </div>\r\n              <div style={{ display: \"block\", \"text-align\": \"right\" }}>\r\n                <Icon\r\n                  style={{ \"margin-left\": \"5px\", color: \"rgb(55,55,55)\" }}\r\n                  name=\"caret down\"\r\n                />\r\n              </div>\r\n            </div>\r\n          }\r\n          icon=\"null\"\r\n        >\r\n          <Dropdown.Menu style={{ \"border-color\": \"white\" }}>\r\n            <Dropdown.Item\r\n              onClick={myProfile}\r\n              style={{ color: \"rgb(55,55,55)\" }}\r\n              icon=\"user circle\"\r\n              text=\"My channel\"\r\n            />\r\n            <Dropdown.Item\r\n              onClick={handleSubscriptionsButtonClick}\r\n              style={{ color: \"rgb(55,55,55)\" }}\r\n              icon=\"th list\"\r\n              text=\"Subscriptions\"\r\n            />\r\n            <Dropdown.Item\r\n              onClick={handleLikesButtonClick}\r\n              style={{ color: \"rgb(55,55,55)\" }}\r\n              icon=\"like\"\r\n              text=\"Likes\"\r\n            />\r\n            <Dropdown.Item\r\n              onClick={showEditProfile}\r\n              style={{ color: \"rgb(55,55,55)\" }}\r\n              icon=\"edit\"\r\n              text=\"Edit profile\"\r\n            />\r\n            <Dropdown.Item\r\n              onClick={logout}\r\n              style={{ color: \"rgb(55,55,55)\" }}\r\n              icon=\"sign out\"\r\n              text=\"Logout\"\r\n            />\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UserNav);\r\n","import React, {Component} from 'react';\r\nimport GuestNav from './guestnav';\r\nimport UserNav from './usernav';\r\n\r\nclass UserMenu extends Component {\r\n  render() {\r\n    const {\r\n      isAuthenticated,\r\n      username,\r\n      name,\r\n      avatar,\r\n      logout,\r\n      isLoading,\r\n      showRegister,\r\n      showLogin,\r\n      showEditProfile,\r\n    } = this.props;\r\n\r\n    if (isAuthenticated) {\r\n      return (\r\n        <UserNav\r\n          username={username}\r\n          name={name}\r\n          avatar={avatar}\r\n          logout={logout}\r\n          showEditProfile={showEditProfile}\r\n          isLoading={isLoading}\r\n        />\r\n      );\r\n    } else {\r\n      return <GuestNav showRegister={showRegister} showLogin={showLogin} />;\r\n    }\r\n  }\r\n}\r\n\r\nexport default UserMenu;","export const API_URL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? process.env.REACT_APP_PROD_API_URL\r\n    : process.env.REACT_APP_DEV_API_URL;\r\nexport const USER_URL = API_URL + 'user/';\r\nexport const USER_REGISTER_URL = USER_URL + 'register/';\r\nexport const USER_LOGIN_URL = USER_URL + 'login/';\r\nexport const USER_LOGOUT_URL = USER_URL + 'logout/';\r\nexport const USER_EDIT_URL = '/edit/';\r\nexport const USER_DELETE_URL = '/delete/';\r\nexport const USER_AVATAR_URL = USER_URL + 'avatar/'\r\nexport const USER_AVATAR_EDIT_URL = USER_AVATAR_URL + 'edit/'","import {\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  LOGIN_RESET,\r\n  EDIT_PROFILE_REQUEST,\r\n  EDIT_PROFILE_SUCCESS,\r\n  EDIT_PROFILE_FAILURE,\r\n  EDIT_PROFILE_RESET,\r\n  LOGOUT\r\n} from \"../actions/types\";\r\n\r\nconst loginInitialState = {\r\n  isLoading: false,\r\n  isAuthenticated: false,\r\n  username: null,\r\n  name: null,\r\n  avatar: null,\r\n  token: null,\r\n  error: null\r\n};\r\n\r\nconst editInitialState = {\r\n  isEditing: false,\r\n  editError: null,\r\n  editSuccess: false\r\n};\r\n\r\nconst initialState = {\r\n  ...loginInitialState,\r\n  ...editInitialState\r\n};\r\n\r\nconst auth = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOGIN_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        isAuthenticated: false,\r\n        error: null\r\n      };\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isAuthenticated: true,\r\n        token: action.token,\r\n        username: action.username,\r\n        avatar: action.avatar,\r\n        name: action.name,\r\n        error: null\r\n      };\r\n    case LOGIN_FAILURE:\r\n      return {\r\n        ...state,\r\n        ...loginInitialState,\r\n        error: action.error\r\n      };\r\n    case EDIT_PROFILE_REQUEST:\r\n      return {\r\n        ...state,\r\n        isEditing: true,\r\n        editError: null,\r\n        editSuccess: false\r\n      };\r\n    case EDIT_PROFILE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isEditing: false,\r\n        editError: null,\r\n        editSuccess: true,\r\n        avatar: action.avatar || state.avatar,\r\n        name: action.name || state.name\r\n      };\r\n    case EDIT_PROFILE_FAILURE:\r\n      return {\r\n        ...state,\r\n        ...editInitialState,\r\n        editError: action.error\r\n      };\r\n    case EDIT_PROFILE_RESET:\r\n      return {\r\n        ...state,\r\n        ...editInitialState\r\n      };\r\n    case LOGIN_RESET:\r\n      return {\r\n        ...state,\r\n        ...loginInitialState\r\n      };\r\n    case LOGOUT:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default auth;\r\n","export const LOGIN_REQUEST = \"LOGIN_REQUEST\";\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\r\nexport const LOGIN_RESET = \"LOGIN_RESET\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nexport const REGISTER_REQUEST = \"REGISTER_REQUEST\";\r\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\r\nexport const REGISTER_FAILURE = \"REGISTER_FAILURE\";\r\nexport const REGISTER_RESET = \"REGISTER_RESET\";\r\nexport const SHOW_MODAL = \"SHOW_MODAL\";\r\nexport const HIDE_MODAL = \"HIDE_MODAL\";\r\nexport const EDIT_PROFILE_REQUEST = \"EDIT_PROFILE_REQUEST\";\r\nexport const EDIT_PROFILE_SUCCESS = \"EDIT_PROFILE_SUCCESS\";\r\nexport const EDIT_PROFILE_FAILURE = \"EDIT_PROFILE_FAILURE\";\r\nexport const EDIT_PROFILE_RESET = \"EDIT_PROFILE_RESET\";\r\nexport const FETCH_USER_PROFILE_REQUEST = \"FETCH_USER_PROFILE_REQUEST\";\r\nexport const FETCH_USER_PROFILE_SUCCESS = \"FETCH_USER_PROFILE_SUCCESS\";\r\nexport const FETCH_USER_PROFILE_FAILURE = \"FETCH_USER_PROFILE_FAILURE\";\r\nexport const FETCH_USERS_REQUEST = \"FETCH_USERS_REQUEST\";\r\nexport const FETCH_USERS_SUCCESS = \"FETCH_USERS_SUCCESS\";\r\nexport const FETCH_USERS_FAILURE = \"FETCH_USERS_FAILURE\";\r\nexport const EDIT_CUSTOMIZATIONS = \"EDIT_CUSTOMIZATIONS\";\r\n","import {SHOW_MODAL, HIDE_MODAL} from '../actions/types';\r\n\r\nconst initialState = {\r\n  modalType: null,\r\n  modalProps: {},\r\n};\r\n\r\nconst modal = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SHOW_MODAL:\r\n      return {\r\n        modalType: action.modalType,\r\n        modalProps: action.modalProps,\r\n      };\r\n    case HIDE_MODAL:\r\n      return {\r\n        modalType: null,\r\n        modalProps: {},\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default modal;","\r\nimport {\r\n  REGISTER_REQUEST,\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAILURE,\r\n  REGISTER_RESET,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  error: null,\r\n};\r\n\r\nconst register = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case REGISTER_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: null,\r\n      };\r\n    case REGISTER_SUCCESS:\r\n      return {\r\n        isLoading: false,\r\n        error: null,\r\n      };\r\n    case REGISTER_FAILURE:\r\n      return {\r\n        isLoading: false,\r\n        error: action.error,\r\n      };\r\n    case REGISTER_RESET:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default register;","\r\nimport {\r\n  FETCH_USER_PROFILE_REQUEST,\r\n  FETCH_USER_PROFILE_SUCCESS,\r\n  FETCH_USER_PROFILE_FAILURE,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  profile: null,\r\n  error: null,\r\n};\r\n\r\nconst userProfile = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_USER_PROFILE_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: null,\r\n      };\r\n    case FETCH_USER_PROFILE_SUCCESS:\r\n      return {\r\n        isLoading: false,\r\n        profile: action.profile,\r\n        error: null,\r\n      };\r\n    case FETCH_USER_PROFILE_FAILURE:\r\n      return {\r\n        ...initialState,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userProfile;","\r\nimport {\r\n  FETCH_USERS_REQUEST,\r\n  FETCH_USERS_SUCCESS,\r\n  FETCH_USERS_FAILURE,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  users: null,\r\n  error: null,\r\n};\r\n\r\nconst users = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_USERS_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: null,\r\n      };\r\n    case FETCH_USERS_SUCCESS:\r\n      return {\r\n        isLoading: false,\r\n        users: action.users,\r\n        error: null,\r\n      };\r\n    case FETCH_USERS_FAILURE:\r\n      return {\r\n        ...initialState,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default users;","import { EDIT_CUSTOMIZATIONS } from \"../actions/types\";\r\n\r\nconst initialState = {};\r\n\r\nconst customize = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case EDIT_CUSTOMIZATIONS:\r\n      return {\r\n        ...state,\r\n        ...action.customization,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default customize;\r\n","import { combineReducers } from \"redux\";\r\nimport auth from \"./auth\";\r\nimport modal from \"./modal\";\r\nimport register from \"./register\";\r\nimport userProfile from \"./userprofile\";\r\nimport users from \"./users\";\r\nimport customize from \"./customize\";\r\n\r\nconst rootReducer = combineReducers({\r\n  auth,\r\n  modal,\r\n  register,\r\n  userProfile,\r\n  users,\r\n  customize,\r\n});\r\n\r\nexport default rootReducer;\r\n","import {compose, createStore, applyMiddleware} from 'redux';\r\nimport rootReducer from './reducers';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {persistStore, persistReducer} from 'redux-persist';\r\nimport autoMergeLevel2 from 'redux-persist/lib/stateReconciler/autoMergeLevel2';\r\nimport storage from 'redux-persist/lib/storage'; // defaults to localStorage for web and AsyncStorage for react-native\r\n\r\n// Redux dev tool extension\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n  stateReconciler: autoMergeLevel2,\r\n};\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nconst store = createStore(\r\n  persistedReducer,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware)),\r\n);\r\nexport const persistor = persistStore(store);\r\nexport default store;","import store from '../store';\r\n\r\nexport const getConfig = () => {\r\n  const isAuthenticated = store.getState().auth.isAuthenticated;\r\n  if (isAuthenticated) {\r\n    const token = store.getState().auth.token;\r\n    const config = {\r\n      headers: {Authorization: 'Token ' + token},\r\n    };\r\n    return config;\r\n  }\r\n  return null;\r\n};","import axios from \"axios\";\r\nimport { USER_AVATAR_EDIT_URL } from \"./constants\";\r\nimport { getConfig } from \"../utils/config\";\r\n\r\nexport const avatarEditApi = file => {\r\n  const formData = new FormData();\r\n  formData.append(\"file\", file);\r\n  const config = {\r\n    headers: {\r\n      Authorization: getConfig().headers.Authorization,\r\n      \"content-type\": \"multipart/form-data\"\r\n    }\r\n  };\r\n  return axios.post(USER_AVATAR_EDIT_URL, formData, config);\r\n};\r\n","import {SHOW_MODAL, HIDE_MODAL} from './types';\r\n\r\nexport const showModal = (modalType, modalProps) => ({\r\n  type: SHOW_MODAL,\r\n  modalType,\r\n  modalProps,\r\n});\r\n\r\nexport const hideModal = () => ({\r\n  type: HIDE_MODAL,\r\n});","export const apiErrorHandler = error => {\r\n  try {\r\n    if (!error.response) {\r\n      return 'Error: Network Error';\r\n    } else if (error.response.data) {\r\n      const erd = error.response.data;\r\n      if (erd.detail) {\r\n        if (erd.detail === 'Invalid token.') {\r\n          return 'Invalid Token. Please re-login.';\r\n        }\r\n        return erd.detail;\r\n      }\r\n      if (erd[0]) return erd[0];\r\n      const key = Object.keys(erd)[0];\r\n      const errorString = erd[key][0];\r\n      if (['non_field_errors', 'detail'].indexOf(key) >= 0) {\r\n        return errorString;\r\n      }\r\n      const errorField = String(key).replace('_', ' ');\r\n      return (\r\n        errorField.charAt(0).toUpperCase() +\r\n        errorField.substring(1) +\r\n        ': ' +\r\n        errorString\r\n      );\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    return 'Something wrong happened. Please report this.';\r\n  }\r\n};","import {\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  LOGIN_RESET,\r\n  EDIT_PROFILE_REQUEST,\r\n  EDIT_PROFILE_SUCCESS,\r\n  EDIT_PROFILE_FAILURE,\r\n  EDIT_PROFILE_RESET,\r\n  LOGOUT\r\n} from \"./types\";\r\nimport { loginApi, logoutApi, editProfileApi } from \"../api\";\r\nimport store from \"../store\";\r\nimport { hideModal } from \"./modal\";\r\nimport { apiErrorHandler } from \"../utils/errorhandler\";\r\n\r\nexport const login = (username, password) => dispatch => {\r\n  dispatch(loginRequest());\r\n\r\n  loginApi(username, password)\r\n    .then(response => {\r\n      dispatch(loginSuccess(response.data));\r\n      dispatch(hideModal());\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(loginFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const loginRequest = () => {\r\n  return {\r\n    type: LOGIN_REQUEST\r\n  };\r\n};\r\n\r\nexport const loginSuccess = data => {\r\n  return {\r\n    type: LOGIN_SUCCESS,\r\n    token: data.token,\r\n    username: data.username,\r\n    name: data.name,\r\n    avatar: data.avatar\r\n  };\r\n};\r\n\r\nexport const loginFailure = error => {\r\n  return {\r\n    type: LOGIN_FAILURE,\r\n    error\r\n  };\r\n};\r\n\r\nexport const logout = () => dispatch => {\r\n  logoutApi();\r\n  dispatch({\r\n    type: LOGOUT\r\n  });\r\n};\r\n\r\nexport const loginReset = () => {\r\n  return {\r\n    type: LOGIN_RESET\r\n  };\r\n};\r\n\r\nexport const editProfile = newProfile => dispatch => {\r\n  dispatch(editProfileRequest());\r\n\r\n  const username = store.getState().auth.username;\r\n  if (!username) {\r\n    dispatch(editProfileFailure(\"Not authenticated\"));\r\n  } else {\r\n    editProfileApi(username, newProfile)\r\n      .then(response => {\r\n        dispatch(editProfileSuccess(newProfile));\r\n      })\r\n      .catch(error => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        dispatch(editProfileFailure(errorMessage));\r\n      });\r\n  }\r\n};\r\n\r\nexport const editProfileRequest = () => {\r\n  return {\r\n    type: EDIT_PROFILE_REQUEST\r\n  };\r\n};\r\n\r\nexport const editProfileSuccess = newProfile => {\r\n  return {\r\n    type: EDIT_PROFILE_SUCCESS,\r\n    avatar: newProfile.avatar,\r\n    name: newProfile.name\r\n  };\r\n};\r\n\r\nexport const editProfileFailure = error => {\r\n  return {\r\n    type: EDIT_PROFILE_FAILURE,\r\n    error\r\n  };\r\n};\r\n\r\nexport const editProfileReset = () => {\r\n  return {\r\n    type: EDIT_PROFILE_RESET\r\n  };\r\n};\r\n","import axios from \"axios\";\r\nimport {\r\n  USER_LOGIN_URL,\r\n  USER_LOGOUT_URL,\r\n  USER_REGISTER_URL,\r\n  USER_EDIT_URL,\r\n  USER_URL\r\n} from \"./constants\";\r\nimport { getConfig } from \"../utils/config\";\r\n\r\nexport const loginApi = (username, password) => {\r\n  return axios.post(USER_LOGIN_URL, { username, password }, getConfig());\r\n};\r\n\r\nexport const logoutApi = () => {\r\n  return axios.post(USER_LOGOUT_URL, null, getConfig());\r\n};\r\n\r\nexport const registerApi = data => {\r\n  return axios.post(USER_REGISTER_URL, data, getConfig());\r\n};\r\n\r\nexport const fetchUserProfileApi = username => {\r\n  return axios.get(USER_URL + username, getConfig());\r\n};\r\n\r\nexport const editProfileApi = (username, newProfile) => {\r\n  return axios.put(\r\n    USER_URL + username + USER_EDIT_URL,\r\n    newProfile,\r\n    getConfig()\r\n  );\r\n};\r\n\r\nexport const fetchUsersApi = () => {\r\n  return axios.get(USER_URL + \"channels/\", getConfig());\r\n};\r\n","import {\r\n  REGISTER_REQUEST,\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAILURE,\r\n  REGISTER_RESET,\r\n} from './types';\r\nimport {registerApi} from '../api';\r\nimport {apiErrorHandler} from '../utils/errorhandler';\r\nimport {login} from './auth';\r\n\r\nexport const register = data => dispatch => {\r\n  dispatch(registerRequest());\r\n\r\n  registerApi(data)\r\n    .then(response => {\r\n      dispatch(registerSuccess());\r\n      dispatch(login(data.username, data.password));\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(registerFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const registerRequest = () => {\r\n  return {\r\n    type: REGISTER_REQUEST,\r\n  };\r\n};\r\n\r\nexport const registerSuccess = () => {\r\n  return {\r\n    type: REGISTER_SUCCESS,\r\n  };\r\n};\r\n\r\nexport const registerFailure = error => {\r\n  return {\r\n    type: REGISTER_FAILURE,\r\n    error,\r\n  };\r\n};\r\n\r\nexport const registerReset = () => {\r\n  return {\r\n    type: REGISTER_RESET,\r\n  };\r\n};","import {\r\n  FETCH_USER_PROFILE_REQUEST,\r\n  FETCH_USER_PROFILE_SUCCESS,\r\n  FETCH_USER_PROFILE_FAILURE,\r\n} from './types';\r\nimport {fetchUserProfileApi} from '../api';\r\nimport {apiErrorHandler} from '../utils/errorhandler';\r\n\r\nexport const fetchUserProfile = username => dispatch => {\r\n  dispatch(fetchUserProfileRequest());\r\n\r\n  fetchUserProfileApi(username)\r\n    .then(response => {\r\n      dispatch(fetchUserProfileSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(fetchUserProfileFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const fetchUserProfileRequest = () => {\r\n  return {\r\n    type: FETCH_USER_PROFILE_REQUEST,\r\n  };\r\n};\r\n\r\nexport const fetchUserProfileSuccess = data => {\r\n  return {\r\n    type: FETCH_USER_PROFILE_SUCCESS,\r\n    profile: data,\r\n  };\r\n};\r\n\r\nexport const fetchUserProfileFailure = error => {\r\n  return {\r\n    type: FETCH_USER_PROFILE_FAILURE,\r\n    error,\r\n  };\r\n};","\r\nimport {\r\n  FETCH_USERS_REQUEST,\r\n  FETCH_USERS_SUCCESS,\r\n  FETCH_USERS_FAILURE,\r\n} from './types';\r\nimport {fetchUsersApi} from '../api';\r\nimport {apiErrorHandler} from '../utils/errorhandler';\r\n\r\nexport const fetchUsers = () => dispatch => {\r\n  dispatch(fetchUsersRequest());\r\n\r\n  fetchUsersApi()\r\n    .then(response => {\r\n      dispatch(fetchUsersSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(fetchUsersFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const fetchUsersRequest = () => {\r\n  return {\r\n    type: FETCH_USERS_REQUEST,\r\n  };\r\n};\r\n\r\nexport const fetchUsersSuccess = data => {\r\n  return {\r\n    type: FETCH_USERS_SUCCESS,\r\n    users: data,\r\n  };\r\n};\r\n\r\nexport const fetchUsersFailure = error => {\r\n  return {\r\n    type: FETCH_USERS_FAILURE,\r\n    error,\r\n  };\r\n};","import React from \"react\";\r\nimport logo from \"./logo.svg\";\r\nimport \"./styles.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Logo = () => {\r\n  return (\r\n    <div className=\"logoContainer\">\r\n      <Link to=\"/\">\r\n        <img id=\"logo\" src={logo} alt=\"logo\" title=\"Pictureself Home\" />\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Navlink from \"../../components/navlink\";\r\nimport UserMenu from \"../../components/usermenu\";\r\nimport \"./styles.css\";\r\nimport { showModal, logout } from \"../../actions\";\r\nimport Logo from \"../../components/logo\";\r\nimport { Input } from \"semantic-ui-react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nclass HeaderContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      searchQuery: \"\"\r\n    };\r\n  }\r\n\r\n  handleSearchInputChange = event => {\r\n    this.setState({ searchQuery: event.target.value });\r\n  };\r\n  handleSearchInputSubmit = () => {\r\n    this.props.history.push(\"/search?q=\" + this.state.searchQuery);\r\n  };\r\n  handleSearchInputKeyPress = e => {\r\n    if (e.charCode == 13) {\r\n      this.props.history.push(\"/search?q=\" + this.state.searchQuery);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      isAuthenticated,\r\n      username,\r\n      name,\r\n      avatar,\r\n      handleLogout,\r\n      isLoading,\r\n      showRegister,\r\n      showLogin,\r\n      showEditProfile\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"headerContainerWrapperSticky\">\r\n        <div className=\"headerContainer\">\r\n          <div id=\"header-logo-search\">\r\n            <Logo />\r\n            <Input\r\n              style={{ height: \"30px\", width: \"370px\", \"margin-right\": \"15px\" }}\r\n              icon={{\r\n                name: \"search\",\r\n                link: true,\r\n                onClick: this.handleSearchInputSubmit\r\n              }}\r\n              placeholder=\"Search...\"\r\n              value={this.state.searchQuery}\r\n              onChange={this.handleSearchInputChange}\r\n              onKeyPress={this.handleSearchInputKeyPress}\r\n            />\r\n            <Navlink />\r\n          </div>\r\n          <UserMenu\r\n            isAuthenticated={isAuthenticated}\r\n            username={username}\r\n            name={name}\r\n            avatar={avatar}\r\n            logout={handleLogout}\r\n            isLoading={isLoading}\r\n            showRegister={showRegister}\r\n            showLogin={showLogin}\r\n            showEditProfile={showEditProfile}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  username: state.auth.username,\r\n  name: state.auth.name,\r\n  avatar: state.auth.avatar,\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  isLoading: state.auth.isLoading\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleLogout: () => {\r\n    dispatch(logout());\r\n  },\r\n  showRegister: () => {\r\n    dispatch(showModal(\"REGISTER\", {}));\r\n  },\r\n  showLogin: () => {\r\n    dispatch(showModal(\"LOGIN\", {}));\r\n  },\r\n  showEditProfile: () => {\r\n    dispatch(showModal(\"EDIT_PROFILE\", {}));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(HeaderContainer));\r\n","import React from 'react';\r\nimport './styles.css';\r\n\r\nconst Loader = props => {\r\n  return (\r\n    <div className={props.className || 'loader'}>\r\n      <div className=\"loader-spinning-wheel\" />\r\n    </div>\r\n  );\r\n};\r\nexport default Loader;","import React, { Component } from \"react\";\r\nimport { Icon, Message } from \"semantic-ui-react\";\r\nimport Loader from \"../loader\";\r\nimport \"./styles.css\";\r\n\r\nexport default class StatusMessage extends Component {\r\n  render() {\r\n    const {\r\n      loading,\r\n      loadingClassName,\r\n      loadingMessage,\r\n      error,\r\n      errorClassName,\r\n      errorMessage,\r\n      success,\r\n      successClassName,\r\n      successMessage,\r\n      nothing,\r\n      nothingClassName,\r\n      nothingMessage,\r\n      type\r\n    } = this.props;\r\n\r\n    if (loading) {\r\n      if (type === \"modal\") {\r\n        return (\r\n          <div className={loadingClassName || \"statusMessage-modal\"}>\r\n            <Message attached icon>\r\n              <Message.Content>\r\n                <Icon name=\"circle notched\" loading size=\"big\" />\r\n                {loadingMessage || \"Loading ...\"}\r\n              </Message.Content>\r\n            </Message>\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <div className={loadingClassName || \"statusMessage-default\"}>\r\n          <Loader />\r\n          <br />\r\n        </div>\r\n      );\r\n    } else if (error) {\r\n      if (type === \"modal\") {\r\n        return (\r\n          <div className={errorClassName || \"statusMessage-modal\"}>\r\n            <Message attached error icon>\r\n              <Message.Content>\r\n                <Icon name=\"thumbs outline down\" size=\"big\" />\r\n                {errorMessage || error || \"Sorry, something went wrong\"}\r\n              </Message.Content>\r\n            </Message>\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <div className={errorClassName || \"statusMessage-default\"}>\r\n          <Message error>\r\n            <Message.Content>\r\n              <Icon name=\"thumbs outline down\" size=\"big\" />\r\n              {errorMessage || error || \"Sorry, something went wrong\"}\r\n            </Message.Content>\r\n          </Message>\r\n        </div>\r\n      );\r\n    } else if (success) {\r\n      if (type === \"modal\") {\r\n        return (\r\n          <div className={successClassName || \"statusMessage-modal\"}>\r\n            <Message attached positive icon>\r\n              <Message.Content>\r\n                <Icon name=\"thumbs outline up\" size=\"big\" />\r\n                {successMessage || \"Successful\"}\r\n              </Message.Content>\r\n            </Message>\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <div className={successClassName || \"statusMessage-default\"}>\r\n          <Message positive>\r\n            <Message.Content>\r\n              <Icon name=\"thumbs outline up\" size=\"big\" />\r\n              {successMessage || \"Successful\"}\r\n            </Message.Content>\r\n          </Message>\r\n        </div>\r\n      );\r\n    } else if (nothing) {\r\n      if (type === \"modal\") {\r\n        return (\r\n          <div className={nothingClassName || \"statusMessage-modal\"}>\r\n            <Message attached error icon>\r\n              <Message.Content>\r\n                <Icon name=\"thumbs outline down\" size=\"big\" />\r\n                {nothingMessage || \"Successful\"}\r\n              </Message.Content>\r\n            </Message>\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <div className={nothingClassName || \"statusMessage-default\"}>\r\n          <Message error>\r\n            <Message.Content>\r\n              <Icon name=\"thumbs outline down\" size=\"big\" />\r\n              {nothingMessage || \"Nothing to display\"}\r\n            </Message.Content>\r\n          </Message>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Form, Icon, Message, Button } from \"semantic-ui-react\";\r\nimport StatusMessage from \"../../components/statusmessage\";\r\nimport \"./styles.css\";\r\n\r\nexport default class Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      checked: true\r\n    };\r\n  }\r\n\r\n  handleChange = (e, { name, value }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleCheckbox = () => {\r\n    this.setState({ checked: !this.state.checked });\r\n  };\r\n\r\n  isFormValid = () => {\r\n    const { username, name, email, password, checked } = this.state;\r\n\r\n    let isFormValid = true;\r\n    if (!username || !name || !email || !password || !checked) {\r\n      isFormValid = false;\r\n    }\r\n    return isFormValid;\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    if (this.isFormValid()) {\r\n      let data = {\r\n        username: this.state.username,\r\n        name: this.state.name,\r\n        email: this.state.email,\r\n        password: this.state.password\r\n      };\r\n      this.props.handleRegister(data);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { isLoading, error, showLogin } = this.props;\r\n\r\n    const statusMessage = (\r\n      <StatusMessage\r\n        error={error}\r\n        errorMessage={error || \"Logging In Error\"}\r\n        loading={isLoading}\r\n        loadingMessage={\"Registering your account\"}\r\n        type=\"modal\"\r\n      />\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <Message\r\n          attached\r\n          header=\"Sign Up\"\r\n          content=\"Fill out the form below to sign up for a new account\"\r\n        />\r\n        {statusMessage}\r\n        <Form className=\"attached fluid segment\">\r\n          <Form.Input\r\n            required\r\n            label=\"Username\"\r\n            placeholder=\"Username\"\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={this.state.username}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Form.Input\r\n            required\r\n            label=\"Name\"\r\n            placeholder=\"Name\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={this.state.name}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Form.Input\r\n            required\r\n            label=\"Email\"\r\n            placeholder=\"Email\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={this.state.email}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Form.Input\r\n            required\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={this.state.password}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Form.Checkbox\r\n            inline\r\n            required\r\n            label=\"I agree to the terms and conditions\"\r\n            name=\"agreement\"\r\n            checked={this.state.checked}\r\n            onChange={this.handleCheckbox}\r\n          />\r\n          <Button\r\n            color=\"blue\"\r\n            loading={isLoading}\r\n            disabled={isLoading}\r\n            onClick={this.handleSubmit}\r\n          >\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n        <Message attached=\"bottom\" warning>\r\n          <Icon name=\"help\" />\r\n          Already signed up?&nbsp;\r\n          {/* eslint-disable-next-line */}\r\n          <a className=\"register-login\" onClick={showLogin}>\r\n            Log in here\r\n          </a>\r\n          &nbsp;instead.\r\n        </Message>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Icon} from 'semantic-ui-react';\r\nimport './styles.css';\r\n\r\nexport default class Modal extends Component {\r\n  listenKeyboard = event => {\r\n    if (event.key === 'Escape' || event.keyCode === 27) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.onClose) {\r\n      window.addEventListener('keydown', this.listenKeyboard, true);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.props.onClose) {\r\n      window.removeEventListener('keydown', this.listenKeyboard, true);\r\n    }\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.props.onClose();\r\n  };\r\n\r\n  onDialogClick = event => {\r\n    event.stopPropagation();\r\n  };\r\n\r\n  render() {\r\n    const overlayStyle = this.props.overlayStyle ? this.props.overlayStyle : {};\r\n    const contentStyle = this.props.contentStyle ? this.props.contentStyle : {};\r\n    const dialogStyle = this.props.dialogStyle ? this.props.dialogStyle : {};\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"modal-overlay-div\" style={overlayStyle} />\r\n        <div\r\n          className=\"modal-content-div\"\r\n          style={contentStyle}\r\n          onClick={this.closeModal}>\r\n          <div\r\n            className=\"modal-dialog-div\"\r\n            style={dialogStyle}\r\n            onClick={this.onDialogClick}>\r\n            <Icon\r\n              name=\"window close outline\"\r\n              size=\"large\"\r\n              className=\"modal-close-div\"\r\n              onClick={this.closeModal}\r\n            />\r\n            {this.props.children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Register from '../../components/register';\r\nimport Modal from '../../components/modal';\r\nimport {hideModal, registerReset, showModal, register} from '../../actions';\r\n\r\nclass RegisterModal extends Component {\r\n  componentWillMount() {\r\n    if (this.props.isAuthenticated) {\r\n      this.props.handleClose();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isAuthenticated,\r\n      isLoading,\r\n      error,\r\n      handleRegister,\r\n      showLogin,\r\n      handleClose,\r\n    } = this.props;\r\n\r\n    return isAuthenticated ? null : (\r\n      <Modal onClose={handleClose}>\r\n        <Register\r\n          handleRegister={handleRegister}\r\n          showLogin={showLogin}\r\n          isLoading={isLoading}\r\n          error={error}\r\n        />\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  error: state.register.error,\r\n  isLoading: state.register.isLoading,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleRegister: data => {\r\n    dispatch(register(data));\r\n  },\r\n  handleClose: () => {\r\n    dispatch(hideModal());\r\n    dispatch(registerReset());\r\n  },\r\n  showLogin: () => {\r\n    dispatch(showModal('LOGIN', {}));\r\n    dispatch(registerReset());\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(RegisterModal);","import React, { Component } from \"react\";\r\nimport { Form, Icon, Message, Button } from \"semantic-ui-react\";\r\nimport StatusMessage from \"../../components/statusmessage\";\r\nimport \"./styles.css\";\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\"\r\n    };\r\n  }\r\n\r\n  handleChange = (e, { name, value }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  isFormValid = () => {\r\n    const { username, password } = this.state;\r\n\r\n    let isFormValid = true;\r\n    if (!username || !password) {\r\n      isFormValid = false;\r\n    }\r\n    return isFormValid;\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    if (this.isFormValid()) {\r\n      this.props.handleLogin(this.state.username, this.state.password);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { isLoading, error, showRegister } = this.props;\r\n\r\n    const statusMessage = (\r\n      <StatusMessage\r\n        error={error}\r\n        errorMessage={error || \"Logging In Error\"}\r\n        loading={isLoading}\r\n        loadingMessage={\"Logging in\"}\r\n        type=\"modal\"\r\n      />\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <Message attached header=\"Log In\" />\r\n        {statusMessage}\r\n        <Form className=\"attached fluid segment\">\r\n          <Form.Input\r\n            required\r\n            label=\"Username\"\r\n            placeholder=\"Username\"\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={this.state.username}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Form.Input\r\n            required\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={this.state.password}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Button\r\n            color=\"blue\"\r\n            loading={isLoading}\r\n            disabled={isLoading}\r\n            onClick={this.handleSubmit}\r\n          >\r\n            Login\r\n          </Button>\r\n        </Form>\r\n        <Message attached=\"bottom\" warning>\r\n          <Icon name=\"help\" />\r\n          New to this site?&nbsp;\r\n          {/* eslint-disable-next-line */}\r\n          <a className=\"login-register\" onClick={showRegister}>\r\n            Sign up here\r\n          </a>\r\n          &nbsp;instead.\r\n        </Message>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Login from '../../components/login';\r\nimport Modal from '../../components/modal';\r\nimport {hideModal, loginReset, showModal, login} from '../../actions';\r\n\r\nclass LoginModal extends Component {\r\n  componentWillMount() {\r\n    if (this.props.isAuthenticated) {\r\n      this.props.handleClose();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isAuthenticated,\r\n      isLoading,\r\n      error,\r\n      handleClose,\r\n      showRegister,\r\n      handleLogin,\r\n    } = this.props;\r\n\r\n    return isAuthenticated ? null : (\r\n      <Modal onClose={handleClose}>\r\n        <Login\r\n          handleLogin={handleLogin}\r\n          showRegister={showRegister}\r\n          isLoading={isLoading}\r\n          error={error}\r\n        />\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isLoading: state.auth.isLoading,\r\n  error: state.auth.error,\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleLogin: (username, password) => {\r\n    dispatch(login(username, password));\r\n  },\r\n  handleClose: () => {\r\n    dispatch(hideModal());\r\n    dispatch(loginReset());\r\n  },\r\n  showRegister: () => {\r\n    dispatch(showModal('REGISTER', {}));\r\n    dispatch(loginReset());\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(LoginModal);","import React, { Component } from \"react\";\r\nimport Dropzone from \"react-dropzone\";\r\nimport {\r\n  Form,\r\n  Image,\r\n  Message,\r\n  Button,\r\n  TextArea,\r\n  Grid,\r\n} from \"semantic-ui-react\";\r\nimport { avatarEditApi } from \"../../api/avatar\";\r\nimport StatusMessage from \"../../components/statusmessage\";\r\nimport \"./styles.css\";\r\n\r\nexport default class EditProfile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { name, avatar } = this.props;\r\n\r\n    this.state = {\r\n      name: name,\r\n      newPassword: \"\",\r\n      currentPassword: \"\",\r\n      about: \"\",\r\n      avatar: avatar,\r\n      avatarFile: null,\r\n      avatarError: null,\r\n      avatarUploading: false,\r\n    };\r\n  }\r\n\r\n  handleChange = (e, { name, value }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  onImageDrop = (files) => {\r\n    this.setState({\r\n      avatarFile: files[0],\r\n    });\r\n  };\r\n\r\n  editProfile = () => {\r\n    let newProfile = {\r\n      name: this.state.name,\r\n      current_password: this.state.currentPassword,\r\n      new_password: this.state.newPassword,\r\n      about: this.state.about,\r\n    };\r\n    this.props.handleEdit(newProfile);\r\n\r\n    // prevent spamming so user have to keep entering password for every edit submission\r\n    this.setState({\r\n      currentPassword: \"\",\r\n    });\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    const { currentPassword, avatarFile } = this.state;\r\n\r\n    if (currentPassword !== \"\") {\r\n      if (!avatarFile) {\r\n        // no new avatar\r\n        this.editProfile();\r\n      } else {\r\n        this.setState({\r\n          avatarUploading: true,\r\n        });\r\n\r\n        avatarEditApi(avatarFile)\r\n          .then((response) => {\r\n            this.setState({\r\n              avatar: response.data.avatar_url,\r\n              avatarUploading: false,\r\n            });\r\n            this.editProfile();\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            this.setState({\r\n              avatarError: \"Image Upload Error\",\r\n              avatarFile: null,\r\n              avatarUploading: false,\r\n            });\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { isLoading, error, success } = this.props;\r\n\r\n    let {\r\n      name,\r\n      newPassword,\r\n      currentPassword,\r\n      about,\r\n      avatar,\r\n      avatarFile,\r\n      avatarError,\r\n      avatarUploading,\r\n    } = this.state;\r\n\r\n    const statusMessage = (\r\n      <StatusMessage\r\n        error={error || avatarError}\r\n        errorMessage={error || avatarError}\r\n        loading={isLoading || avatarUploading}\r\n        loadingMessage={\"Editing your profile\"}\r\n        success={success}\r\n        successMessage={\"Your profile edit was successful\"}\r\n        type=\"modal\"\r\n      />\r\n    );\r\n    const avatarURL = avatarFile ? avatarFile.preview : avatar;\r\n\r\n    return (\r\n      <div>\r\n        <Message\r\n          attached\r\n          header=\"Edit Your Profile\"\r\n          content=\"Fill out any part of the form below to edit your profile\"\r\n        />\r\n        {statusMessage}\r\n        <Form className=\"attached segment\">\r\n          <Grid celled columns={2}>\r\n            <Grid.Column>\r\n              <Form.Field>\r\n                <label>Profile picture</label>\r\n                <Dropzone\r\n                  onDrop={this.onImageDrop}\r\n                  multiple={false}\r\n                  accept=\"image/*\"\r\n                >\r\n                  <Image src={avatarURL} className=\"editProfile-avatar\" />\r\n                </Dropzone>\r\n              </Form.Field>\r\n              <Form.Input\r\n                label=\"About\"\r\n                placeholder=\"Info\"\r\n                type=\"text\"\r\n                name=\"about\"\r\n                control={TextArea}\r\n                value={about}\r\n                onChange={this.handleChange}\r\n                maxLength=\"500\"\r\n              />\r\n            </Grid.Column>\r\n            <Grid.Column>\r\n              <Form.Input\r\n                label=\"Name\"\r\n                placeholder=\"Name\"\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={name}\r\n                onChange={this.handleChange}\r\n                maxLength=\"32\"\r\n              />\r\n              <Form.Input\r\n                required\r\n                label=\"Current Password\"\r\n                type=\"password\"\r\n                name=\"currentPassword\"\r\n                value={currentPassword}\r\n                onChange={this.handleChange}\r\n              />\r\n              <Form.Input\r\n                label=\"New Password\"\r\n                type=\"password\"\r\n                name=\"newPassword\"\r\n                value={newPassword}\r\n                onChange={this.handleChange}\r\n              />\r\n            </Grid.Column>\r\n          </Grid>\r\n          <Button\r\n            color=\"blue\"\r\n            loading={isLoading}\r\n            disabled={isLoading}\r\n            onClick={this.handleSubmit}\r\n          >\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport EditProfile from '../../components/editprofile';\r\nimport Modal from '../../components/modal';\r\nimport {hideModal, editProfileReset, editProfile} from '../../actions';\r\n\r\nclass EditProfileModal extends Component {\r\n  componentWillMount() {\r\n    if (!this.props.isAuthenticated) {\r\n      this.props.handleClose();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isAuthenticated,\r\n      isEditing,\r\n      error,\r\n\t  avatar,\r\n      name,\r\n      editProfile,\r\n      handleClose,\r\n      success,\r\n    } = this.props;\r\n\r\n    return !isAuthenticated ? null : (\r\n      <Modal onClose={handleClose} dialogStyle={{minWidth: '500px'}}>\r\n        <EditProfile\r\n\t\t  avatar={avatar}\r\n          name={name}\r\n          handleEdit={editProfile}\r\n          isLoading={isEditing}\r\n          error={error}\r\n          success={success}\r\n        />\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  isEditing: state.auth.isEditing,\r\n  error: state.auth.editError,\r\n  avatar: state.auth.avatar,\r\n  name: state.auth.name,\r\n  success: state.auth.editSuccess,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  editProfile: newProfile => {\r\n    dispatch(editProfile(newProfile));\r\n  },\r\n  handleClose: () => {\r\n    dispatch(hideModal());\r\n    dispatch(editProfileReset());\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(EditProfileModal);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport RegisterModal from './register';\r\nimport LoginModal from './login';\r\nimport EditProfileModal from './editprofile';\r\n\r\nconst ModalContainer = props => {\r\n  switch (props.modalType) {\r\n    case 'REGISTER':\r\n      return <RegisterModal />;\r\n    case 'LOGIN':\r\n      return <LoginModal />;\r\n    case 'EDIT_PROFILE':\r\n      return <EditProfileModal />;\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  modalType: state.modal.modalType,\r\n  modalProps: state.modal.modalProps, // for future use if need to pass props\r\n});\r\n\r\nexport default connect(mapStateToProps)(ModalContainer);","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Register from \"../../components/register\";\r\nimport { register } from \"../../actions\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass RegisterModal extends Component {\r\n  componentWillMount() {\r\n    if (this.props.isAuthenticated) {\r\n      this.props.handleClose();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isAuthenticated,\r\n      isLoading,\r\n      error,\r\n      handleRegister,\r\n      showLogInPage,\r\n      from\r\n    } = this.props;\r\n\r\n    return isAuthenticated ? (\r\n      <Redirect to={from} />\r\n    ) : (\r\n      <Register\r\n        handleRegister={handleRegister}\r\n        showLogin={showLogInPage}\r\n        isLoading={isLoading}\r\n        error={error}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  error: state.register.error,\r\n  isLoading: state.register.isLoading\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleRegister: data => {\r\n    dispatch(register(data));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(RegisterModal);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Login from \"../../components/login\";\r\nimport { login } from \"../../actions\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass LoginModal extends Component {\r\n  render() {\r\n    const {\r\n      isAuthenticated,\r\n      isLoading,\r\n      error,\r\n      showRegisterPage,\r\n      handleLogin,\r\n      from\r\n    } = this.props;\r\n    return isAuthenticated ? (\r\n      <Redirect to={from} />\r\n    ) : (\r\n      <Login\r\n        handleLogin={handleLogin}\r\n        showRegister={showRegisterPage}\r\n        isLoading={isLoading}\r\n        error={error}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isLoading: state.auth.isLoading,\r\n  error: state.auth.error,\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleLogin: (username, password) => {\r\n    dispatch(login(username, password));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LoginModal);\r\n","import React, { Component } from \"react\";\r\nimport RegisterPage from \"./registerpage\";\r\nimport LogInPage from \"./loginpage\";\r\nimport store from \"../../store\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n/*\r\nimplement redirectToReferrer for PrivateRoute\r\nif redirectToReferrer = null - redirect to DEFAULT_LOGGING_IN_REDIRECT \r\n*/\r\n\r\nexport default class LoginRegisterPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.showLogInPage = this.showLogInPage.bind(this);\r\n    this.showRegisterPage = this.showRegisterPage.bind(this);\r\n\r\n    this.state = {\r\n      userIsRegistered: true // true - show log in page; false - show register page\r\n    };\r\n  }\r\n\r\n  showLogInPage = () => {\r\n    this.setState({ userIsRegistered: true });\r\n  };\r\n\r\n  showRegisterPage = () => {\r\n    this.setState({ userIsRegistered: false });\r\n  };\r\n\r\n  render() {\r\n    let { from } = this.props.location.state || { from: { pathname: \"/\" } };\r\n\r\n    if (this.state.userIsRegistered)\r\n      return <LogInPage showRegisterPage={this.showRegisterPage} from={from} />;\r\n    else return <RegisterPage showLogInPage={this.showLogInPage} from={from} />;\r\n  }\r\n}\r\n","// to do: separate images loading from drawing on canvas\r\n//        -> reuse already created image elements in subsequent calls (\"customize\" component)\r\nexport const imageComposer = (urls) => {\r\n  let images = [];\r\n  let promises = [];\r\n  for (let url of urls) {\r\n    let image = new Image();\r\n    image.crossOrigin = \"anonymous\";\r\n    // https://stackoverflow.com/questions/126772/how-to-force-a-web-browser-not-to-cache-images\r\n    // to do: https://serverfault.com/questions/856904/chrome-s3-cloudfront-no-access-control-allow-origin-header-on-initial-xhr-req/856948#856948\r\n    //        to enable caching in correct way\r\n    image.src = url.includes(\"base64\") ? url : url + \"?\" + performance.now();\r\n    images.push(image);\r\n    promises.push(setImageListeners(image));\r\n  }\r\n  let maxWidth = 0;\r\n  let maxHeight = 0;\r\n  return Promise.all(promises)\r\n    .then(function () {\r\n      maxWidth = Math.max.apply(\r\n        Math,\r\n        images.map(function (image) {\r\n          return image.width;\r\n        })\r\n      );\r\n      maxHeight = Math.max.apply(\r\n        Math,\r\n        images.map(function (image) {\r\n          return image.height;\r\n        })\r\n      );\r\n      var canvas = document.createElement(\"canvas\");\r\n      canvas.width = maxWidth;\r\n      canvas.height = maxHeight;\r\n      var ctx = canvas.getContext(\"2d\");\r\n      for (let image of images) {\r\n        ctx.drawImage(image, 0, 0);\r\n      }\r\n      let canvasDataUrl = canvas.toDataURL();\r\n      const result = { width: maxWidth, height: maxHeight, url: canvasDataUrl };\r\n      return result;\r\n    })\r\n    .catch((err) => console.error(err));\r\n};\r\n\r\nfunction setImageListeners(image) {\r\n  return new Promise((resolve, reject) => {\r\n    image.addEventListener(\"load\", () => resolve());\r\n    image.addEventListener(\"error\", (err) => reject(err));\r\n  });\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./styles.css\";\r\nimport StackGrid from \"react-stack-grid\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { imageComposer } from \"../../utils/imagecomposer\";\r\nimport Loader from \"../loader\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Button } from \"semantic-ui-react\";\r\n\r\nclass Gallery extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      canvasDataURLs: [],\r\n      widths: [],\r\n      heights: [],\r\n      nImagesComposed: 0,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.composeImages();\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props !== prevProps)\r\n      this.setState(\r\n        { canvasDataURLs: [], widths: [], heights: [], nImagesComposed: 0 },\r\n        this.composeImages\r\n      );\r\n  }\r\n\r\n  composeImages = () => {\r\n    const { pictureselfs } = this.props;\r\n    for (let i = 0; i < pictureselfs.length; ++i) {\r\n      imageComposer(pictureselfs[i].image_urls)\r\n        .then((composedImage) => {\r\n          this.setState((state) => {\r\n            let newCanvasDataURLs = [...state.canvasDataURLs];\r\n            let newWidths = [...state.widths];\r\n            let newHeights = [...state.heights];\r\n\r\n            newCanvasDataURLs[i] = composedImage.url;\r\n            newWidths[i] = composedImage.width;\r\n            newHeights[i] = composedImage.height;\r\n\r\n            return {\r\n              canvasDataURLs: newCanvasDataURLs,\r\n              widths: newWidths,\r\n              heights: newHeights,\r\n              imagesComposed: state.imagesComposed + 1,\r\n            };\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          alert(error);\r\n        });\r\n    }\r\n  };\r\n  redirectToCustomize = (id) => {\r\n    this.props.history.push({\r\n      pathname: \"/p/\" + id + \"/customize/\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { pictureselfs, columnWidth, channel } = this.props;\r\n\r\n    const { canvasDataURLs, widths, heights, nImagesComposed } = this.state;\r\n\r\n    let box_shadow_heights = {};\r\n\r\n    for (let i = 0; i < pictureselfs.length; ++i) {\r\n      if (widths[i] !== undefined) {\r\n        box_shadow_heights[pictureselfs[i].id] =\r\n          widths[i] > columnWidth\r\n            ? heights[i] * (columnWidth / widths[i])\r\n            : heights[i] + (columnWidth - widths[i]);\r\n      }\r\n    }\r\n\r\n    var pCards = [];\r\n    for (let i = 0; i < pictureselfs.length; ++i) {\r\n      const canvasDataURL = canvasDataURLs[i];\r\n\r\n      if (canvasDataURL !== undefined) {\r\n        let pictureself = pictureselfs[i];\r\n        const customizeButton =\r\n          pictureself.is_customizable && !channel ? (\r\n            <Button\r\n              id=\"gallery-customize-button\"\r\n              onClick={() => {\r\n                this.redirectToCustomize(pictureself.id);\r\n              }}\r\n              size=\"mini\"\r\n              compact\r\n              color=\"grey\"\r\n            >\r\n              CUSTOMIZE\r\n            </Button>\r\n          ) : null;\r\n        const titleP = pictureself.title ? (\r\n          <Link to={`/p/${pictureself.id.toString()}/`}>\r\n            <p\r\n              title={pictureself.title}\r\n              className=\"gallery title\"\r\n              style={{\r\n                width: columnWidth - 10 + \"px\",\r\n                \"margin-left\": \"5px\",\r\n              }}\r\n            >\r\n              {pictureself.title}\r\n            </p>\r\n          </Link>\r\n        ) : null;\r\n        pCards.push(\r\n          <div key={pictureself.id.toString()}>\r\n            <Link to={`/p/${pictureself.id.toString()}/`}>\r\n              <div\r\n                style={{\r\n                  width: columnWidth.toString() + \"px\",\r\n                  \"box-shadow\":\r\n                    \"0px \" +\r\n                    box_shadow_heights[pictureself.id].toString() +\r\n                    \"px inset rgba(175,175,175,0.075)\",\r\n                }}\r\n              >\r\n                <img\r\n                  src={canvasDataURL}\r\n                  alt={pictureself.title}\r\n                  style={{\r\n                    \"max-width\": \"100%\",\r\n                    height: \"auto\",\r\n                    margin:\r\n                      columnWidth > widths[i]\r\n                        ? (columnWidth - widths[i]) / 2\r\n                        : 0 + \"px\",\r\n\r\n                    \"z-index\": \"-1\",\r\n                    position: \"relative\",\r\n                  }}\r\n                />\r\n              </div>\r\n            </Link>\r\n            {customizeButton}\r\n            {titleP}\r\n\r\n            {channel ? null : (\r\n              <Link to={`/${pictureself.username}/`}>\r\n                <p\r\n                  title={pictureself.name}\r\n                  className=\"gallery channel\"\r\n                  style={{\r\n                    width: columnWidth - 10 + \"px\",\r\n                    \"margin-left\": \"5px\",\r\n                  }}\r\n                >\r\n                  {pictureself.name}\r\n                </p>\r\n              </Link>\r\n            )}\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    const isLoading = nImagesComposed === pictureselfs.length;\r\n\r\n    return (\r\n      <div>\r\n        <br />\r\n        <StackGrid\r\n          monitorImagesLoaded={true}\r\n          columnWidth={this.props.columnWidth}\r\n          gutterWidth={this.props.gutterWidth}\r\n          gutterHeight={this.props.gutterHeight + 5}\r\n          duration={0}\r\n        >\r\n          {pCards}\r\n        </StackGrid>\r\n        <div\r\n          style={{\r\n            \"margin-top\": \"35px\",\r\n            visibility: isLoading ? \"visible\" : \"hidden\",\r\n          }}\r\n        >\r\n          <Loader />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Gallery);\r\n","import React, { Component } from \"react\";\r\nimport Avatar from \"../avatar\";\r\nimport \"./styles.css\";\r\nimport { Button } from \"semantic-ui-react\";\r\nimport Gallery from \"../gallery\";\r\nimport axios from \"axios\";\r\nimport { getConfig } from \"../../utils/config\";\r\nimport { apiErrorHandler } from \"../../utils/errorhandler\";\r\nimport store from \"../../store\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Linkify from \"linkifyjs/react\";\r\nimport Loader from \"../loader\";\r\nimport { API_URL } from \"../../api/constants\";\r\n\r\nclass Profile extends Component {\r\n  _isMounted = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      pictureselfs: [],\r\n      isSubscribed: this.props.isSubscribed,\r\n      numberOfSubscribers: this.props.numberOfSubscribers,\r\n      isLoading: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\r\n    this.fetchPictureselfsUser();\r\n    if (\r\n      this.props.location.pathname ==\r\n      \"/\" + this.props.match.params.username + \"/subscribe\"\r\n    ) {\r\n      this.props.location.pathname = \"/\" + this.props.match.params.username;\r\n      this.toggleSubscribe();\r\n    }\r\n  }\r\n\r\n  fetchPictureselfsUserApi = (username) => {\r\n    let config = store.getState().auth.isAuthenticated\r\n      ? getConfig()\r\n      : { params: store.getState().customize };\r\n    return axios.get(API_URL + \"user/\" + username + \"/pictureselfs/\", config);\r\n  };\r\n\r\n  fetchPictureselfsUser = () => {\r\n    this.fetchPictureselfsUserApi(this.props.username)\r\n      .then((response) => {\r\n        if (this._isMounted) {\r\n          this.setState({\r\n            pictureselfs: response.data,\r\n            isLoading: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        // to do\r\n        alert(errorMessage);\r\n      });\r\n  };\r\n\r\n  toggleSubscribeApi = (id) => {\r\n    return axios.get(\r\n      API_URL + \"user/\" + id + \"/toggle-subscription/\",\r\n      getConfig()\r\n    );\r\n  };\r\n\r\n  toggleSubscribe = () => {\r\n    const isAuthenticated = store.getState().auth.isAuthenticated;\r\n    if (isAuthenticated) {\r\n      this.setState({\r\n        numberOfSubscribers: this.state.isSubscribed\r\n          ? this.state.numberOfSubscribers - 1\r\n          : this.state.numberOfSubscribers + 1,\r\n      });\r\n      this.setState({ isSubscribed: !this.state.isSubscribed });\r\n      this.toggleSubscribeApi(this.props.username);\r\n    } else {\r\n      let location = this.props.location;\r\n      location.pathname = \"/\" + this.props.match.params.username + \"/subscribe\";\r\n      this.props.history.push({\r\n        pathname: \"/login\",\r\n        state: { from: location },\r\n      });\r\n    }\r\n  };\r\n\r\n  redirectToCustomize = () => {\r\n    if (this.state.pictureselfs.length > 0)\r\n      this.props.history.push({\r\n        pathname:\r\n          \"/p/\" + this.state.pictureselfs[0].id.toString() + \"/customize/\",\r\n      });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    if (isLoading) {\r\n      return (\r\n        <div style={{ \"margin-top\": \"35px\" }}>\r\n          <Loader />\r\n        </div>\r\n      );\r\n    } else {\r\n      const { name, username, about, isCustomizable } = this.props;\r\n      const viewerUsername = store.getState().auth.username;\r\n      const subscribeButton =\r\n        viewerUsername == username ? null : (\r\n          <Button\r\n            basic\r\n            onClick={this.toggleSubscribe}\r\n            content={\r\n              this.state.isSubscribed\r\n                ? \"SUBSCRIBED\" +\r\n                  (this.state.numberOfSubscribers == 0\r\n                    ? \"\"\r\n                    : \"   \" + this.state.numberOfSubscribers)\r\n                : \"SUBSCRIBE\" +\r\n                  (this.state.numberOfSubscribers == 0\r\n                    ? \"\"\r\n                    : \"   \" + this.state.numberOfSubscribers)\r\n            }\r\n            size=\"small\"\r\n            compact\r\n            style={{\r\n              color: \"rgb(155,155,155)\",\r\n              \"margin-bottom\": \"10px\",\r\n              \"font-weight\": \"bold\",\r\n            }}\r\n          />\r\n        );\r\n      const avatar =\r\n        this.props.avatar == \"\"\r\n          ? \"https://afcm.ca/wp-content/uploads/2018/06/no-photo.png\"\r\n          : this.props.avatar;\r\n      const COLUMN_WIDTH = 200;\r\n      const GUTTER_WIDTH = 40;\r\n      const GUTTER_HEIGHT = 20;\r\n      const customizeButton = isCustomizable ? (\r\n        <Button\r\n          basic\r\n          size=\"small\"\r\n          compact\r\n          style={{\r\n            backgroundColor: \"transparent\",\r\n            \"font-weight\": \"bold\",\r\n            \"margin-bottom\": \"10px\",\r\n          }}\r\n          onClick={this.redirectToCustomize}\r\n        >\r\n          CUSTOMIZE\r\n        </Button>\r\n      ) : null;\r\n\r\n      return (\r\n        <div>\r\n          <div className=\"profileContainer\">\r\n            <div>\r\n              <Avatar\r\n                className=\"profileAvatar\"\r\n                avatar={avatar}\r\n                centered={false}\r\n              />\r\n            </div>\r\n            <div className=\"profileInfo\" style={{ \"white-space\": \"pre\" }}>\r\n              <div className=\"name\">{name}</div>\r\n\r\n              {subscribeButton}\r\n              {customizeButton}\r\n              <div className=\"about\">\r\n                <Linkify tagName=\"p\">{about}</Linkify>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <br />\r\n          <Gallery\r\n            columnWidth={COLUMN_WIDTH}\r\n            gutterWidth={GUTTER_WIDTH}\r\n            gutterHeight={GUTTER_HEIGHT}\r\n            pictureselfs={this.state.pictureselfs}\r\n            channel={true}\r\n            duration={0}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchUserProfile } from \"../../actions\";\r\nimport StatusMessage from \"../../components/statusmessage\";\r\nimport Profile from \"../../components/profile\";\r\nimport \"./styles.css\";\r\n\r\nclass UserProfileContainer extends Component {\r\n  componentDidMount() {\r\n    const { username } = this.props.match.params;\r\n    this.props.fetchUserProfile(username);\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    const { username: oldUsername } = this.props.match.params;\r\n    const { username: futureUsername } = newProps.match.params;\r\n    if (oldUsername !== futureUsername) {\r\n      this.props.fetchUserProfile(futureUsername);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, error, profile, location, match, history } = this.props;\r\n\r\n    if (error || !profile || isLoading) {\r\n      return (\r\n        <StatusMessage\r\n          error={error || !profile}\r\n          errorClassName=\"userProfile-error\"\r\n          errorMessage={error}\r\n          loading={isLoading}\r\n          loadingMessage={``}\r\n          type=\"default\"\r\n        />\r\n      );\r\n    }\r\n\r\n    const {\r\n      name,\r\n      username,\r\n      about,\r\n      avatar,\r\n      date_joined,\r\n      is_subscribed,\r\n      number_of_subscribers,\r\n      is_customizable\r\n    } = profile;\r\n\r\n    return (\r\n      <Profile\r\n        username={username}\r\n        name={name}\r\n        avatar={avatar}\r\n        about={about}\r\n        dateJoined={date_joined}\r\n        isSubscribed={is_subscribed}\r\n        numberOfSubscribers={number_of_subscribers}\r\n        isCustomizable={is_customizable}\r\n        location={location}\r\n        match={match}\r\n        history={history}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isLoading: state.userProfile.isLoading,\r\n  profile: state.userProfile.profile,\r\n  error: state.userProfile.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchUserProfile: username => {\r\n    dispatch(fetchUserProfile(username));\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(UserProfileContainer);\r\n","import React, { Component } from \"react\";\r\nimport { Card } from \"semantic-ui-react\";\r\nimport Avatar from \"../avatar\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./styles.css\";\r\n\r\nclass UserCard extends Component {\r\n  render() {\r\n    const { name, username, avatar } = this.props;\r\n\r\n    return (\r\n      <div className=\"user-card\">\r\n        <Link to={`/${username}`}>\r\n          <img\r\n            src={\r\n              avatar ||\r\n              \"https://afcm.ca/wp-content/uploads/2018/06/no-photo.png\"\r\n            }\r\n            className=\"user-card-avatar\"\r\n            alt={username}\r\n          />\r\n        </Link>\r\n        <Link to={`/${username}`}>\r\n          <p className=\"user-card-name\">{name}</p>\r\n        </Link>\r\n        <Link to={`/${username}`}>\r\n          <p className=\"user-card-username\">@{username}</p>\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserCard;\r\n","import React, { Component } from \"react\";\r\nimport StatusMessage from \"../statusmessage\";\r\nimport UserCard from \"../usercard\";\r\nimport \"./styles.css\";\r\n\r\nexport default class UserList extends Component {\r\n  render() {\r\n    const { isLoading, error, users } = this.props;\r\n\r\n    if (error || !users || isLoading || users.length === 0) {\r\n      return (\r\n        <StatusMessage\r\n          error={error || !users}\r\n          errorClassName=\"users-error\"\r\n          errorMessage={error}\r\n          loading={isLoading}\r\n          loadingMessage={`We are fetching the users for you`}\r\n          nothing={users && users.length === 0}\r\n          nothingMessage={`No user to display`}\r\n          nothingClassName=\"users-error\"\r\n          type=\"default\"\r\n        />\r\n      );\r\n    }\r\n\r\n    const userCardList = users.map(user => {\r\n      const { name, username, avatar } = user;\r\n\r\n      return (\r\n        <div key={username} className=\"userCard\">\r\n          <UserCard username={username} name={name} avatar={avatar} />\r\n        </div>\r\n      );\r\n    });\r\n    return <div className=\"usersContainer\">{userCardList}</div>;\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {fetchUsers} from '../../actions';\r\nimport UserList from '../../components/userlist';\r\n\r\nclass UsersContainer extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchUsers();\r\n  }\r\n\r\n  render() {\r\n    return <UserList {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isLoading: state.users.isLoading,\r\n  users: state.users.users,\r\n  error: state.users.error,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchUsers: () => {\r\n    dispatch(fetchUsers());\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(UsersContainer);","import React, { Component } from \"react\";\r\nimport { Message, Image } from \"semantic-ui-react\";\r\nimport \"./styles.css\";\r\n\r\nclass NotFoundPage extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"not-found-page\">\r\n          <p>This page isn't available.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default NotFoundPage;\r\n","import {\r\n  Button,\r\n  Checkbox,\r\n  Form,\r\n  Dropdown,\r\n  Message,\r\n  Icon,\r\n  Modal,\r\n  Header,\r\n  Popup,\r\n  Image,\r\n} from \"semantic-ui-react\";\r\nimport React, { Component } from \"react\";\r\nimport \"./styles.css\";\r\nimport axios from \"axios\";\r\nimport { getConfig } from \"../../utils/config\";\r\nimport { apiErrorHandler } from \"../../utils/errorhandler\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { API_URL } from \"../../api/constants\";\r\nimport Dropzone from \"react-dropzone\";\r\nimport { number } from \"prop-types\";\r\n\r\n// ?! dont show alt if file is absent\r\nclass EditVariant extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.hoverOn = this.hoverOn.bind(this);\r\n    this.hoverOff = this.hoverOff.bind(this);\r\n    this.state = {\r\n      hover: false,\r\n    };\r\n  }\r\n  hoverOn = () => {\r\n    this.setState({ hover: true });\r\n  };\r\n  hoverOff = () => {\r\n    this.setState({ hover: false });\r\n  };\r\n  render() {\r\n    let insertVariantButton;\r\n    if (this.props.insert) {\r\n      insertVariantButton = (\r\n        <React.Fragment>\r\n          <Button\r\n            as=\"label\"\r\n            style={{\r\n              backgroundColor: \"transparent\",\r\n              \"margin-left\": 0,\r\n              \"margin-right\": \"35px\",\r\n            }}\r\n            icon=\"add\"\r\n            size=\"large\"\r\n            htmlFor={\r\n              \"hiddenFileInput\" +\r\n              \"f\" +\r\n              this.props.feature_index.toString() +\r\n              \"j\" +\r\n              this.props.variant_index.toString()\r\n            }\r\n          />\r\n          <input\r\n            hidden\r\n            id={\r\n              \"hiddenFileInput\" +\r\n              \"f\" +\r\n              this.props.feature_index.toString() +\r\n              \"j\" +\r\n              this.props.variant_index.toString()\r\n            }\r\n            type=\"file\"\r\n            onChange={(e) =>\r\n              this.props.insertVariant(\r\n                this.props.feature_index,\r\n                this.props.variant_index,\r\n                e.target.files\r\n              )\r\n            }\r\n          />\r\n        </React.Fragment>\r\n      );\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        {insertVariantButton}\r\n        <div\r\n          class=\"variant-container\"\r\n          onMouseEnter={this.hoverOn}\r\n          onMouseLeave={this.hoverOff}\r\n        >\r\n          <div>\r\n            <div>\r\n              <Button\r\n                style={{\r\n                  backgroundColor: \"transparent\",\r\n                  margin: 0,\r\n                  visibility: \"hidden\",\r\n                }}\r\n                icon=\"file image\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <img\r\n                src={this.props.variant_url}\r\n                alt={this.props.variant_name}\r\n                style={{ margin: 0 }}\r\n                //vspace=\"10\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Button\r\n                style={{\r\n                  backgroundColor: \"transparent\",\r\n                  margin: 0,\r\n                  visibility: \"hidden\",\r\n                }}\r\n                icon=\"delete\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              <Button\r\n                style={{\r\n                  backgroundColor: \"transparent\",\r\n                  margin: 0,\r\n                  visibility: this.state.hover ? \"visible\" : \"hidden\",\r\n                }}\r\n                icon=\"delete\"\r\n                onClick={() =>\r\n                  this.props.removeVariant(\r\n                    this.props.feature_index,\r\n                    this.props.variant_index,\r\n                    this.props.variant_id\r\n                  )\r\n                }\r\n              />\r\n            </div>\r\n            <div>\r\n              <Button\r\n                as=\"label\"\r\n                style={{\r\n                  backgroundColor: \"transparent\",\r\n                  margin: 0,\r\n                  visibility: this.state.hover ? \"visible\" : \"hidden\",\r\n                }}\r\n                icon=\"file image\"\r\n                htmlFor={\r\n                  \"hiddenFileInput\" +\r\n                  \"f\" +\r\n                  this.props.feature_index.toString() +\r\n                  \"v\" +\r\n                  this.props.variant_index.toString()\r\n                }\r\n              />\r\n              <input\r\n                hidden\r\n                id={\r\n                  \"hiddenFileInput\" +\r\n                  \"f\" +\r\n                  this.props.feature_index.toString() +\r\n                  \"v\" +\r\n                  this.props.variant_index.toString()\r\n                }\r\n                type=\"file\"\r\n                onChange={(e) =>\r\n                  this.props.updateVariant(\r\n                    this.props.variant_id,\r\n                    e.target.files\r\n                  )\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n          <div />\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nclass EditFeature extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.hoverOn = this.hoverOn.bind(this);\r\n    this.hoverOff = this.hoverOff.bind(this);\r\n    this.importVariantsCheckboxHandleChange = this.importVariantsCheckboxHandleChange.bind(\r\n      this\r\n    );\r\n    this.handleFeatureImportDropdownChange = this.handleFeatureImportDropdownChange.bind(\r\n      this\r\n    );\r\n    this.handleInsertButtonClick = this.handleInsertButtonClick.bind(this);\r\n    this.state = {\r\n      insertChecked: false,\r\n      hover: false,\r\n      feature_to_include: \"create_new\",\r\n      importedFeatureMessage: false,\r\n      importVariantsIsChecked: false,\r\n    };\r\n  }\r\n  showImportFeatureDropdown = () =>\r\n    this.setState(({ importFeature }) => ({ importFeature: !importFeature }));\r\n\r\n  hoverOn = () => {\r\n    this.setState({ hover: true });\r\n  };\r\n\r\n  hoverOff = () => {\r\n    this.setState({ hover: false });\r\n  };\r\n\r\n  handleDismiss = () => {\r\n    this.setState({ importedFeatureMessage: false });\r\n  };\r\n\r\n  handleFeatureImportDropdownChange = (e, data) => {\r\n    this.setState({\r\n      feature_to_include: data.value,\r\n      includeFeature: data.value !== \"create_new\",\r\n    });\r\n  };\r\n  handleInsertButtonClick() {\r\n    this.props.insertFeature(\r\n      this.props.feature_index,\r\n      this.state.feature_to_include,\r\n      this.state.importVariantsIsChecked\r\n    );\r\n    this.setState({\r\n      feature_to_include: \"create_new\",\r\n      includeFeature: false,\r\n    });\r\n  }\r\n\r\n  handleChange = (e, { name, value }) => {\r\n    if (this.props.imported) {\r\n      this.setState({ importedFeatureMessage: true });\r\n      setTimeout(() => {\r\n        this.setState({ importedFeatureMessage: false });\r\n      }, 9000);\r\n    } else {\r\n      this.props.updateFeature(this.props.feature_id, value);\r\n    }\r\n  };\r\n\r\n  importVariantsCheckboxHandleChange = () =>\r\n    this.setState(({ importVariantsIsChecked }) => ({\r\n      importVariantsIsChecked: !importVariantsIsChecked,\r\n    }));\r\n  showInsertPositions = () =>\r\n    this.setState(({ insertChecked }) => ({ insertChecked: !insertChecked }));\r\n\r\n  render() {\r\n    let featureToImportOptions = [];\r\n    let option_create_new = {};\r\n    option_create_new[\"key\"] = \"create_new\";\r\n    option_create_new[\"text\"] = \"(create new)\";\r\n    option_create_new[\"value\"] = \"create_new\";\r\n    featureToImportOptions.push(option_create_new);\r\n    for (const [key, value] of Object.entries(this.props.features_to_include)) {\r\n      let option = {};\r\n      option[\"key\"] = key;\r\n      option[\"text\"] = value;\r\n      option[\"value\"] = key;\r\n      featureToImportOptions.push(option);\r\n    }\r\n    let insertFeatureBlock;\r\n    const popupStyle = {\r\n      borderRadius: 3,\r\n      opacity: 0.8,\r\n      \"padding-top\": \"0.25em\",\r\n      \"padding-bottom\": \"0.25em\",\r\n      \"padding-left\": \"0.5em\",\r\n      \"padding-right\": \"0.5em\",\r\n    };\r\n    const { feature_to_include } = this.state;\r\n    if (this.props.insert) {\r\n      insertFeatureBlock = (\r\n        <React.Fragment>\r\n          <Button\r\n            basic\r\n            content=\"Add feature\"\r\n            onClick={() => this.handleInsertButtonClick()}\r\n            style={{ \"margin-bottom\": \"20px\" }}\r\n          />\r\n          <Dropdown\r\n            onChange={(e, data) =>\r\n              this.handleFeatureImportDropdownChange(e, data)\r\n            }\r\n            options={featureToImportOptions}\r\n            placeholder=\"Choose feature to import\"\r\n            defaultValue=\"create_new\"\r\n            selection\r\n            value={feature_to_include}\r\n            style={{\r\n              visibility:\r\n                Object.keys(this.props.features_to_include).length === 0\r\n                  ? \"hidden\"\r\n                  : \"visible\",\r\n            }}\r\n          />\r\n          <Checkbox\r\n            label=\"Import variants\"\r\n            style={{\r\n              \"margin-left\": \"5px\",\r\n              visibility:\r\n                this.state.feature_to_include === \"create_new\"\r\n                  ? \"hidden\"\r\n                  : \"visible\",\r\n            }}\r\n            checked={this.state.importVariantsIsChecked}\r\n            onChange={this.importVariantsCheckboxHandleChange}\r\n          />\r\n        </React.Fragment>\r\n      );\r\n    }\r\n    let insertCheckbox;\r\n    //style={{ visibility: this.state.hover ? \"visible\" : \"hidden\" }}>\r\n    if (this.props.variant_order.length) {\r\n      insertCheckbox = (\r\n        <div>\r\n          <Checkbox\r\n            slider\r\n            label=\"Insert variant\"\r\n            style={{ \"margin-bottom\": \"0px\" }}\r\n            checked={this.state.insertChecked}\r\n            onChange={this.showInsertPositions}\r\n          />\r\n          <br />\r\n          <br />\r\n        </div>\r\n      );\r\n    }\r\n    const variant_order = this.props.variant_order;\r\n    const editVariants = variant_order.map((variant_id, index) => (\r\n      <EditVariant\r\n        key={variant_id}\r\n        variant_index={index}\r\n        feature_index={this.props.feature_index}\r\n        insert={this.state.insertChecked}\r\n        updateVariant={this.props.updateVariant}\r\n        insertVariant={this.props.insertVariant}\r\n        removeVariant={this.props.removeVariant}\r\n        variant_name={this.props.variant_names[variant_id]}\r\n        variant_id={variant_id}\r\n        variant_url={this.props.variant_urls[variant_id]}\r\n        variant_file={this.props.variant_files[variant_id]}\r\n        hover={this.state.hover}\r\n      />\r\n    ));\r\n    let editImportedFeatureErrorMessage;\r\n    if (this.state.importedFeatureMessage) {\r\n      editImportedFeatureErrorMessage = (\r\n        <React.Fragment>\r\n          <Message\r\n            compact\r\n            onDismiss={this.handleDismiss}\r\n            header=\"The feature is included!\"\r\n            content=\"Title of included feature can only be formatted in the edit menu of pictureself it's originated from.\"\r\n          />\r\n          <br /> <br />\r\n        </React.Fragment>\r\n      );\r\n    }\r\n    let editVariantsMenu;\r\n    if (!this.props.variantsAreImported) {\r\n      editVariantsMenu = (\r\n        <React.Fragment>\r\n          {\" \"}\r\n          {insertCheckbox}\r\n          <div id=\"main\">\r\n            {editVariants}{\" \"}\r\n            <Popup\r\n              position=\"bottom center\"\r\n              mouseEnterDelay={750}\r\n              trigger={\r\n                <div\r\n                  class={\r\n                    this.props.variant_order.length === 0\r\n                      ? \"initialAddButtonDiv\"\r\n                      : \"\"\r\n                  }\r\n                >\r\n                  <Button\r\n                    as=\"label\"\r\n                    style={{\r\n                      backgroundColor: \"transparent\",\r\n                      margin: 0,\r\n                    }}\r\n                    icon=\"add\"\r\n                    size=\"large\"\r\n                    htmlFor={\r\n                      \"hiddenFileInput\" + this.props.feature_index.toString()\r\n                    }\r\n                  />\r\n                  <input\r\n                    hidden\r\n                    id={\"hiddenFileInput\" + this.props.feature_index.toString()}\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    multiple\r\n                    onChange={(e) =>\r\n                      this.props.addVariants(\r\n                        this.props.feature_index,\r\n                        e.target.files\r\n                      )\r\n                    }\r\n                    onClick={(event) => {\r\n                      event.target.value = null;\r\n                    }}\r\n                  />\r\n                </div>\r\n              }\r\n              content=\"Add variant\"\r\n              size=\"large\"\r\n              style={popupStyle}\r\n              inverted\r\n              basic\r\n            />\r\n          </div>\r\n        </React.Fragment>\r\n      );\r\n    } else {\r\n      editVariantsMenu = (\r\n        <Checkbox\r\n          label=\"Import variants\"\r\n          style={{\r\n            \"margin-bottom\": \"20px\",\r\n          }}\r\n          checked={true}\r\n          disabled\r\n        />\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        <div>\r\n          <br />\r\n          <Form onMouseEnter={this.hoverOn} onMouseLeave={this.hoverOff}>\r\n            <Form.Group>\r\n              <Form.Input\r\n                width=\"11\"\r\n                size=\"large\"\r\n                type=\"text\"\r\n                name=\"title\"\r\n                value={this.props.title}\r\n                placeholder=\"Feature Title\"\r\n                onChange={this.handleChange}\r\n                maxLength=\"200\"\r\n              />\r\n              <Form.Button\r\n                class=\"btn\"\r\n                style={{\r\n                  backgroundColor: \"transparent\",\r\n                  visibility: this.state.hover ? \"visible\" : \"hidden\",\r\n                }}\r\n                icon=\"delete\"\r\n                size=\"huge\"\r\n                onClick={() =>\r\n                  this.props.remove_feature(\r\n                    this.props.feature_index,\r\n                    this.props.feature_id\r\n                  )\r\n                }\r\n              />\r\n            </Form.Group>\r\n          </Form>\r\n          {editImportedFeatureErrorMessage}\r\n          {editVariantsMenu}\r\n        </div>\r\n        {insertFeatureBlock}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// to do: keep track of created variants in form of separate list\r\n//        before assigning id check id on duplicating\r\n\r\nexport default class EditPictureself extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.updateFeature = this.updateFeature.bind(this);\r\n    this.insertFeature = this.insertFeature.bind(this);\r\n    this.removeFeature = this.removeFeature.bind(this);\r\n    this.addFeature = this.addFeature.bind(this);\r\n    this.updateVariant = this.updateVariant.bind(this);\r\n    this.insertVariant = this.insertVariant.bind(this);\r\n    this.removeVariant = this.removeVariant.bind(this);\r\n    this.handleFeatureImportDropdownChange = this.handleFeatureImportDropdownChange.bind(\r\n      this\r\n    );\r\n    this.addVariants = this.addVariants.bind(this);\r\n    this.state = {\r\n      pictureself_id: this.props.match.params.pictureself, //if create new changes from 0 to created in backend p id\r\n      channel_username: \"\",\r\n      pictureself_title: \"\",\r\n      // for header\r\n      initial_pictureself_title: \"\",\r\n      pictureself_description: \"\",\r\n      pictureself_tags: \"\",\r\n      customizableIsChecked: false,\r\n      nonCustomizableImageURL: \"\",\r\n      nonCustomizableImageFile: null,\r\n      nonCustomizableImageAlt: \"\",\r\n      features_to_include: {},\r\n      features: {},\r\n      feature_order: [],\r\n      // \"new_features_counter\", for id generating\r\n      nfc: 0,\r\n      insertChecked: false,\r\n      feature_to_include: \"create_new\",\r\n      features_with_imported_variants: [],\r\n      importVariantsIsChecked: false,\r\n      variant_order: [],\r\n      variant_urls: {},\r\n      variant_names: {},\r\n      variant_files: {},\r\n      nvc: 0,\r\n      showDeleteModal: false,\r\n      // 0 variants or error on server side\r\n      // to do: rename \"onSave\"\r\n      errorOnPost: \"\",\r\n      // number of variant files sent and processed on server\r\n      // is used to show progress info\r\n      isUploading: false,\r\n      nFilesUploaded: 0,\r\n      legitCreatedVariantIds: [],\r\n      legitCreatedVariantIdsChunk: [],\r\n    };\r\n  }\r\n\r\n  fetchPictureselfApi = (id) => {\r\n    return axios.get(API_URL + \"p/\" + id + \"/data/\", getConfig());\r\n  };\r\n\r\n  fetchFeaturesToIncludeApi = (id) => {\r\n    return axios.get(\r\n      API_URL + \"p/\" + id + \"/features-to-include/\",\r\n      getConfig()\r\n    );\r\n  };\r\n\r\n  deletePictureselfApi = (id) => {\r\n    return axios.delete(API_URL + \"p/\" + id + \"/delete/\", getConfig());\r\n  };\r\n\r\n  editVariantApi = (id, file) => {\r\n    const formData = new FormData();\r\n    formData.set(\"file\", file);\r\n    const config = {\r\n      headers: {\r\n        Authorization: getConfig().headers.Authorization,\r\n        \"content-type\": \"multipart/form-data\",\r\n      },\r\n    };\r\n    return axios.put(\r\n      API_URL + \"variants/\" + id + \"/\" + \"edit/\",\r\n      formData,\r\n      config\r\n    );\r\n  };\r\n\r\n  createVariantApi = (file) => {\r\n    const formData = new FormData();\r\n    formData.set(\"file\", file);\r\n    const config = {\r\n      headers: {\r\n        Authorization: getConfig().headers.Authorization,\r\n        \"content-type\": \"multipart/form-data\",\r\n      },\r\n    };\r\n    return axios.post(API_URL + \"variants/\" + \"create/\", formData, config);\r\n  };\r\n\r\n  editPictureselfInfoApi = (id, info) => {\r\n    const formData = new FormData();\r\n    for (const [key, value] of Object.entries(info)) {\r\n      formData.append(key, value);\r\n    }\r\n    const config = {\r\n      headers: {\r\n        Authorization: getConfig().headers.Authorization,\r\n        \"content-type\": \"multipart/form-data\",\r\n      },\r\n    };\r\n    if (this.state.pictureself_id === \"0\") {\r\n      return axios.post(API_URL + \"p/\" + id + \"/edit/\", formData, config);\r\n    } else {\r\n      return axios.put(API_URL + \"p/\" + id + \"/edit/\", formData, config);\r\n    }\r\n  };\r\n\r\n  //---draft----\r\n  /*editPictureselfInfoApi = (id, newInfo) => {\r\n    const formData = new FormData();\r\n    for (const [key, value] of Object.entries(newPictureself)) {\r\n      formData.append(key, value);\r\n    }\r\n    const config = {\r\n      headers: {\r\n        Authorization: getConfig().headers.Authorization,\r\n        \"content-type\": \"multipart/form-data\"\r\n      }\r\n    };\r\n    if (this.state.pictureself_id === \"0\") {\r\n      return axios.post(API_URL + \"p/\" + id + \"/edit/\", formData, config);\r\n    } else {\r\n      return axios.put(API_URL + \"p/\" + id + \"/edit/\", formData, config);\r\n    }\r\n  };*/\r\n\r\n  componentDidMount() {\r\n    const { pictureself } = this.props.match.params;\r\n    this.setState({ pictureself_id: pictureself });\r\n    if (pictureself !== \"0\") {\r\n      this.fetchPictureself();\r\n    }\r\n    this.fetchFeaturesToIncludeApi(pictureself)\r\n      .then((response) => {\r\n        this.setState({\r\n          features_to_include: response.data,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        // to do\r\n        alert(errorMessage);\r\n      });\r\n  }\r\n\r\n  fetchPictureself = () => {\r\n    const pictureself = this.state.pictureself_id;\r\n    this.fetchPictureselfApi(pictureself)\r\n      .then((response) => {\r\n        if (response.data[\"image\"]) {\r\n          this.setState({\r\n            pictureself_title: response.data[\"title\"],\r\n            initial_pictureself_title: response.data[\"title\"],\r\n            pictureself_description: response.data[\"description\"],\r\n            pictureself_tags: response.data[\"tags\"],\r\n            channel_username: response.data[\"username\"],\r\n            customizableIsChecked: false,\r\n            nonCustomizableImageURL: response.data[\"image\"],\r\n            nonCustomizableImageAlt: response.data[\"image_original_name\"],\r\n          });\r\n        } else {\r\n          const variants = response.data[\"variants\"];\r\n          const variantsLength = variants.length;\r\n          let variant_urls = {};\r\n          let variant_names = {};\r\n          for (let i = 0; i < variantsLength; i++) {\r\n            variant_urls[variants[i].id.toString()] = variants[i].image;\r\n            variant_names[variants[i].id.toString()] =\r\n              variants[i].original_name;\r\n          }\r\n          const feature_order = JSON.parse(response.data[\"feature_ids_json\"]);\r\n          const variant_order = JSON.parse(response.data[\"variant_ids_json\"]);\r\n          let string_ids_feature_order = [];\r\n          let string_ids_variant_order = [];\r\n          const feature_order_length = feature_order.length;\r\n          const variant_order_length = variant_order.length;\r\n          for (let i = 0; i < feature_order_length; i++) {\r\n            string_ids_feature_order.push(feature_order[i].toString());\r\n          }\r\n          for (let i = 0; i < variant_order_length; i++) {\r\n            string_ids_variant_order.push([]);\r\n            const variant_order_line = variant_order[i];\r\n            const variant_order_line_length = variant_order_line.length;\r\n            for (let j = 0; j < variant_order_line_length; j++) {\r\n              string_ids_variant_order[i].push(\r\n                variant_order_line[j].toString()\r\n              );\r\n            }\r\n          }\r\n          let string_ids_features = {};\r\n          const features = response.data[\"features\"];\r\n          const features_length = features.length;\r\n          for (let i = 0; i < features_length; i++) {\r\n            string_ids_features[features[i].id.toString()] = features[i].title;\r\n          }\r\n\r\n          this.setState({\r\n            pictureself_title: response.data[\"title\"],\r\n            initial_pictureself_title: response.data[\"title\"],\r\n            pictureself_description: response.data[\"description\"],\r\n            pictureself_tags: response.data[\"tags\"],\r\n            channel_username: response.data[\"username\"],\r\n            customizableIsChecked: true,\r\n            feature_order: string_ids_feature_order,\r\n            variant_order: string_ids_variant_order,\r\n            features: string_ids_features,\r\n            variant_urls: variant_urls,\r\n            variant_names: variant_names,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        alert(error);\r\n        // to do\r\n        alert(errorMessage);\r\n      });\r\n  };\r\n\r\n  onCustomizableCheck = () =>\r\n    this.setState(({ customizableIsChecked }) => ({\r\n      customizableIsChecked: !customizableIsChecked,\r\n    }));\r\n\r\n  onNonCustomizableImageChange = (files) => {\r\n    this.setState({\r\n      nonCustomizableImageFile: files[0],\r\n      nonCustomizableImageURL: window.URL.createObjectURL(files[0]),\r\n      nonCustomizableImageAlt: files[0].name,\r\n    });\r\n  };\r\n\r\n  getNewFiles = () => {\r\n    // to do: refactor using separate this.state.created_variant_ids and this.state.edited_variant_ids\r\n    const edited_created_variant_ids = Object.keys(this.state.variant_files);\r\n    let created_variant_ids = [];\r\n    let edited_variant_ids = [];\r\n    for (let i = 0; i < edited_created_variant_ids.length; ++i)\r\n      if (edited_created_variant_ids[i][0] == \"v\")\r\n        created_variant_ids.push(edited_created_variant_ids[i]);\r\n      else edited_variant_ids.push(edited_created_variant_ids[i]);\r\n    const newFiles = {\r\n      created_variant_ids: created_variant_ids,\r\n      edited_variant_ids: edited_variant_ids,\r\n      variant_files: this.state.variant_files,\r\n    };\r\n\r\n    return newFiles;\r\n  };\r\n\r\n  getNewInfo = () => {\r\n    // replacing all unique keys for repeating included feature with initial included feature id\r\n    let normalized_feature_order = this.state.feature_order.slice();\r\n    const normalized_feature_order_length = normalized_feature_order.length;\r\n    for (let i = 0; i < normalized_feature_order_length; i++) {\r\n      if (normalized_feature_order[i].indexOf(\"i\") > -1) {\r\n        normalized_feature_order[i] = normalized_feature_order[i].substring(\r\n          0,\r\n          normalized_feature_order[i].indexOf(\"i\")\r\n        );\r\n      }\r\n    }\r\n    const newInfo = {\r\n      title: this.state.pictureself_title,\r\n      description: this.state.pictureself_description,\r\n      tags: this.state.pictureself_tags,\r\n      feature_order: JSON.stringify(normalized_feature_order),\r\n      variant_order: JSON.stringify(this.state.variant_order),\r\n      features: JSON.stringify(this.state.features),\r\n    };\r\n    return newInfo;\r\n  };\r\n\r\n  showImportFeatureDropdown = () =>\r\n    this.setState(({ importFeature }) => ({ importFeature: !importFeature }));\r\n\r\n  importVariantsCheckboxHandleChange = () =>\r\n    this.setState(({ importVariantsIsChecked }) => ({\r\n      importVariantsIsChecked: !importVariantsIsChecked,\r\n    }));\r\n\r\n  showInsertPositions = () =>\r\n    this.setState(({ insertChecked }) => ({ insertChecked: !insertChecked }));\r\n\r\n  handlePictureselfTitleChange = (event) => {\r\n    this.setState({ pictureself_title: event.target.value });\r\n  };\r\n\r\n  handlePictureselfDescriptionChange = (event) => {\r\n    this.setState({ pictureself_description: event.target.value });\r\n  };\r\n  handlePictureselfTagsChange = (event) => {\r\n    this.setState({ pictureself_tags: event.target.value });\r\n  };\r\n  updateFeature = (feature_id, newTitle) => {\r\n    let features = { ...this.state.features };\r\n    let title = { ...features[feature_id] };\r\n    title = newTitle;\r\n    features[feature_id] = title;\r\n    this.setState({ features: features });\r\n  };\r\n\r\n  insertFeature = (\r\n    feature_position,\r\n    feature_to_include,\r\n    importVariantsIsChecked\r\n  ) => {\r\n    if (feature_to_include === \"create_new\") {\r\n      let new_features = { ...this.state.features };\r\n      const new_id = \"f\" + this.state.nfc.toString();\r\n      const new_title = \"\";\r\n      const new_feature = { new_id: new_title };\r\n      new_features[new_id] = new_title;\r\n      this.setState({ features: { ...new_features, ...new_feature } });\r\n      const new_nfc = this.state.nfc + 1;\r\n      this.setState({ nfc: new_nfc });\r\n      let new_feature_order = this.state.feature_order.slice();\r\n      new_feature_order.splice(feature_position, 0, new_id);\r\n      this.setState({ feature_order: new_feature_order });\r\n      let new_variant_order = this.state.variant_order.slice();\r\n      new_variant_order.splice(feature_position, 0, []);\r\n      this.setState({ variant_order: new_variant_order });\r\n    } else {\r\n      const new_feature_id =\r\n        feature_to_include + \"i\" + this.state.nfc.toString();\r\n      if (feature_position === this.state.feature_order.length) {\r\n        this.setState({\r\n          feature_order: [...this.state.feature_order, new_feature_id],\r\n        });\r\n\r\n        this.setState({ variant_order: [...this.state.variant_order, []] });\r\n      } else {\r\n        let new_feature_order = this.state.feature_order.slice();\r\n        new_feature_order.splice(feature_position, 0, new_feature_id);\r\n        this.setState({ feature_order: new_feature_order });\r\n\r\n        let new_variant_order = this.state.variant_order.slice();\r\n        new_variant_order.splice(feature_position, 0, []);\r\n\r\n        this.setState({ variant_order: new_variant_order });\r\n      }\r\n      if (importVariantsIsChecked) {\r\n        this.setState({\r\n          features_with_imported_variants: [\r\n            ...this.state.features_with_imported_variants,\r\n            new_feature_id,\r\n          ],\r\n        });\r\n      }\r\n      const new_nfc = this.state.nfc + 1;\r\n      this.setState({ nfc: new_nfc });\r\n      this.setState({\r\n        feature_to_include: \"create_new\",\r\n        includeFeature: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  removeFeature = (position, id) => {\r\n    let new_features = { ...this.state.features };\r\n    delete new_features[id];\r\n    this.setState({ features: { ...new_features } });\r\n    let new_feature_order = this.state.feature_order.slice();\r\n    new_feature_order.splice(position, 1);\r\n    this.setState({ feature_order: new_feature_order });\r\n    let new_variant_order = this.state.variant_order.slice();\r\n    new_variant_order.splice(position, 1);\r\n    this.setState({ variant_order: new_variant_order });\r\n  };\r\n\r\n  addFeature = () => {\r\n    let new_features = { ...this.state.features };\r\n    const new_id = \"f\" + this.state.nfc.toString();\r\n    const new_title = \"\";\r\n    const new_feature = { new_id: new_title };\r\n    new_features[new_id] = new_title;\r\n    this.setState({ features: { ...new_features, ...new_feature } });\r\n    const new_nfc = this.state.nfc + 1;\r\n    this.setState({ nfc: new_nfc });\r\n    this.setState({ feature_order: [...this.state.feature_order, new_id] });\r\n    this.setState({ variant_order: [...this.state.variant_order, []] });\r\n  };\r\n\r\n  updateVariant = (variant_id, files) => {\r\n    const new_file = files[0];\r\n\r\n    let variant_urls = { ...this.state.variant_urls };\r\n    let variant_url = { ...variant_urls[variant_id] };\r\n    variant_url = window.URL.createObjectURL(new_file);\r\n    variant_urls[variant_id] = variant_url;\r\n    this.setState({ variant_urls: variant_urls });\r\n\r\n    let variant_names = { ...this.state.variant_names };\r\n    let variant_name = { ...variant_names[variant_id] };\r\n    variant_name = new_file.name;\r\n    variant_names[variant_id] = variant_name;\r\n    this.setState({ variant_names: variant_names });\r\n\r\n    let variant_files = { ...this.state.variant_files };\r\n    let variant_file = { ...variant_files[variant_id] };\r\n    variant_file = new_file;\r\n    variant_files[variant_id] = variant_file;\r\n    this.setState({ variant_files: variant_files });\r\n  };\r\n\r\n  insertVariant = (feature_position, variant_position, files) => {\r\n    const new_id = \"v\" + this.state.nvc.toString();\r\n    const new_file = files[0];\r\n    const new_url = window.URL.createObjectURL(new_file);\r\n    const new_name = new_file.name;\r\n    this.setState({\r\n      variant_files: { ...this.state.variant_files, [new_id]: new_file },\r\n    });\r\n    this.setState({\r\n      variant_names: { ...this.state.variant_names, [new_id]: new_name },\r\n    });\r\n    this.setState({\r\n      variant_urls: { ...this.state.variant_urls, [new_id]: new_url },\r\n    });\r\n\r\n    const new_nvc = this.state.nvc + 1;\r\n    this.setState({ nvc: new_nvc });\r\n    let new_variant_order = this.state.variant_order.slice();\r\n    new_variant_order[feature_position].splice(variant_position, 0, new_id);\r\n    this.setState({ variant_order: new_variant_order });\r\n  };\r\n\r\n  removeVariant = (feature_position, variant_position, variant_id) => {\r\n    let new_variant_files = { ...this.state.variant_files };\r\n    let new_variant_names = { ...this.state.variant_names };\r\n    let new_variant_urls = { ...this.state.variant_urls };\r\n    delete new_variant_files[variant_id];\r\n    delete new_variant_names[variant_id];\r\n    delete new_variant_urls[variant_id];\r\n    this.setState({ variant_files: { ...new_variant_files } });\r\n    this.setState({ variant_names: { ...new_variant_names } });\r\n    this.setState({ variant_urls: { ...new_variant_urls } });\r\n    let new_variant_order = this.state.variant_order.slice();\r\n    new_variant_order[feature_position].splice(variant_position, 1);\r\n    this.setState({ variant_order: new_variant_order });\r\n  };\r\n\r\n  addVariants = (feature_position, files) => {\r\n    let number_of_files = files.length;\r\n    let new_variant_ids = [];\r\n    let new_variant_names = {};\r\n    let new_variant_files = {};\r\n    let new_variant_urls = {};\r\n    let temp_var_id = \"\";\r\n    for (let i = 0; i < number_of_files; ++i) {\r\n      temp_var_id = \"v\" + (this.state.nvc + i).toString();\r\n      new_variant_ids.push(temp_var_id);\r\n      new_variant_files[temp_var_id] = files[i];\r\n      new_variant_names[temp_var_id] = files[i].name;\r\n      new_variant_urls[temp_var_id] = window.URL.createObjectURL(files[i]);\r\n    }\r\n    //const new_id = \"v\" + this.state.nvc.toString();\r\n    //const new_file = files[0];\r\n    this.setState({\r\n      variant_files: { ...this.state.variant_files, ...new_variant_files },\r\n    });\r\n    //const new_variant_name = { new_id: new_file.name };\r\n    this.setState({\r\n      variant_names: { ...this.state.variant_names, ...new_variant_names },\r\n    });\r\n    const new_nvc = this.state.nvc + number_of_files;\r\n    this.setState({ nvc: new_nvc });\r\n    let new_variant_order = this.state.variant_order.slice();\r\n    new_variant_order[feature_position] = [\r\n      ...new_variant_order[feature_position],\r\n      ...new_variant_ids,\r\n    ];\r\n    this.setState({ variant_order: new_variant_order });\r\n    //const new_variant_url = window.URL.createObjectURL(new_file);\r\n    this.setState({\r\n      variant_urls: { ...this.state.variant_urls, ...new_variant_urls },\r\n    });\r\n  };\r\n\r\n  handleFeatureImportDropdownChange(e, data) {\r\n    this.setState({\r\n      feature_to_include: data.value,\r\n      includeFeature: data.value !== \"create_new\",\r\n    });\r\n  }\r\n\r\n  atLeastOneVariant = () => {\r\n    const variant_order = this.state.variant_order;\r\n    if (variant_order.length == 0) {\r\n      return false;\r\n    } else {\r\n      for (let i = 0; i < variant_order.length; i++) {\r\n        if (variant_order[i].length > 0) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  /*\r\n  // draft\r\n  editVariantsDraft = (pictureselfId, editedVariantIds, variantFiles) => {\r\n    const CHUNK_SIZE = 15;\r\n    const numberOfChunks = ~~(editedVariantIds.length / CHUNK_SIZE);\r\n    const remainder = editedVariantIds.length % CHUNK_SIZE;\r\n\r\n    // \"+ 1\" to process remainder\r\n    for (let i = 0; i < numberOfChunks + 1; ++i) {\r\n      // getting chunk of files\r\n      let editedVariantIdsChunk =\r\n        i < numberOfChunks\r\n          ? editedVariantIds.slice(i * numberOfChunks, (i + 1) * numberOfChunks)\r\n          : editedVariantIds.slice(0, remainder);\r\n      let editedVariantFilesChunk = {};\r\n      for (let editedVariantId of editedVariantIdsChunk)\r\n        editedVariantFilesChunk[editedVariantId] =\r\n          variantFiles[editedVariantId];\r\n\r\n      // uploading files\r\n      this.editVariantsApi(pictureselfId, editedVariantFilesChunk).then(\r\n        response => {\r\n          this.setState({\r\n            nFilesUploaded:\r\n              this.state.nFilesUploaded +\r\n              (i == numberOfChunks ? remainder : numberOfChunks)\r\n          });\r\n        }\r\n      );\r\n    }\r\n  };\r\n  */\r\n\r\n  // to do: consider merging with editVariants\r\n  createVariants = (createdVariantIds, variantFiles) => {\r\n    const CHUNK_SIZE = 5;\r\n    const nChunks = ~~(createdVariantIds.length / CHUNK_SIZE);\r\n    var sequence = Promise.resolve();\r\n    const remainder = createdVariantIds.length % CHUNK_SIZE;\r\n    // \"+ 1\" to process remainder\r\n    for (let i = 0; i < nChunks + 1; ++i) {\r\n      // getting chunk of files\r\n      const iChunkSize = i < nChunks ? CHUNK_SIZE : remainder;\r\n      let createdVariantIdsChunk = createdVariantIds.slice(\r\n        i * CHUNK_SIZE,\r\n        i * CHUNK_SIZE + iChunkSize\r\n      );\r\n      let createdVariantFilesChunk = {};\r\n      for (let createdVariantId of createdVariantIdsChunk) {\r\n        createdVariantFilesChunk[createdVariantId] =\r\n          variantFiles[createdVariantId];\r\n      }\r\n      // ?!!!!??!!??!?!???! p.then(then).then(then)\r\n      // uploading files\r\n      sequence = sequence.then(() =>\r\n        this.createVariantsChunk(\r\n          createdVariantIdsChunk,\r\n          createdVariantFilesChunk\r\n        )\r\n      );\r\n      sequence = sequence.then(() => {\r\n        this.setState((state) => ({\r\n          legitCreatedVariantIds: state.legitCreatedVariantIds.concat(\r\n            state.legitCreatedVariantIdsChunk\r\n          ),\r\n          nFilesUploaded:\r\n            state.nFilesUploaded + (i == nChunks ? remainder : CHUNK_SIZE),\r\n        }));\r\n      });\r\n    }\r\n    return sequence;\r\n  };\r\n\r\n  createVariantsChunk = (createdVariantIds, variantFiles) => {\r\n    var sequence = Promise.resolve();\r\n    this.setState({ legitCreatedVariantIdsChunk: [] }, () => {\r\n      for (let i = 0; i < createdVariantIds.length; ++i) {\r\n        sequence = sequence.then(() =>\r\n          this.createVariantApi(variantFiles[createdVariantIds[i]])\r\n        );\r\n        sequence = sequence.then((response) => {\r\n          this.setState((state) => ({\r\n            legitCreatedVariantIdsChunk: [\r\n              ...state.legitCreatedVariantIdsChunk,\r\n              response.data[\"new_variant_id\"],\r\n            ],\r\n          }));\r\n        });\r\n      }\r\n    });\r\n    return sequence;\r\n  };\r\n\r\n  editVariants = (editedVariantIds, variantFiles) => {\r\n    const CHUNK_SIZE = 5;\r\n    const nChunks = ~~(editedVariantIds.length / CHUNK_SIZE);\r\n    const remainder = editedVariantIds.length % CHUNK_SIZE;\r\n    var sequence = Promise.resolve();\r\n\r\n    // \"+ 1\" to process remainder\r\n    for (let i = 0; i < nChunks + 1; ++i) {\r\n      // getting chunk of files\r\n      const iChunkSize = i < nChunks ? CHUNK_SIZE : remainder;\r\n      let editedVariantIdsChunk = editedVariantIds.slice(\r\n        i * CHUNK_SIZE,\r\n        i * CHUNK_SIZE + iChunkSize\r\n      );\r\n      let editedVariantFilesChunk = {};\r\n      for (let editedVariantId of editedVariantIdsChunk)\r\n        editedVariantFilesChunk[editedVariantId] =\r\n          variantFiles[editedVariantId];\r\n\r\n      // uploading files\r\n      sequence = sequence.then(() =>\r\n        this.editVariantsChunk(editedVariantIdsChunk, editedVariantFilesChunk)\r\n      );\r\n      sequence = sequence.then(() => {\r\n        this.setState((state) => ({\r\n          nFilesUploaded:\r\n            state.nFilesUploaded + (i == nChunks ? remainder : CHUNK_SIZE),\r\n        }));\r\n      });\r\n    }\r\n    return sequence;\r\n  };\r\n\r\n  editVariantsChunk = (editedVariantIds, variantFiles) => {\r\n    var sequence = Promise.resolve();\r\n    for (let i = 0; i < editedVariantIds.length; ++i) {\r\n      sequence = sequence.then(() =>\r\n        this.editVariantApi(\r\n          editedVariantIds[i],\r\n          variantFiles[editedVariantIds[i]]\r\n        )\r\n      );\r\n    }\r\n    return sequence;\r\n  };\r\n\r\n  /*\r\n  // draft\r\n  createVariantsDraft = (createdVariantIds, variantFiles) => {\r\n    const CHUNK_SIZE = 15;\r\n    const numberOfChunks = ~~(createdVariantIds.length / CHUNK_SIZE);\r\n    const remainder = createdVariantIds.length % CHUNK_SIZE;\r\n\r\n    let legitCreatedVariantIds = {};\r\n\r\n    // \"+ 1\" to process remainder\r\n    for (let i = 0; i < numberOfChunks + 1; ++i) {\r\n      // getting chunk of files\r\n      let createdVariantIdsChunk =\r\n        i < numberOfChunks\r\n          ? createdVariantIds.slice(\r\n              i * numberOfChunks,\r\n              (i + 1) * numberOfChunks\r\n            )\r\n          : createdVariantIds.slice(0, remainder);\r\n      let createdVariantFilesChunk = {};\r\n      for (let createdVariantId of createdVariantIdsChunk)\r\n        createdVariantFilesChunk[createdVariantId] =\r\n          variantFiles[createdVariantId];\r\n\r\n      // uploading files\r\n      this.createVariantsApi(createdVariantFilesChunk).then(response => {\r\n        Object.assign(\r\n          legitCreatedVariantIds,\r\n          JSON.parse(response.data.legit_created_variant_ids)\r\n        );\r\n        this.setState(state => {\r\n          return {\r\n            nFilesUploaded:\r\n              state.nFilesUploaded +\r\n              (i == numberOfChunks ? remainder : numberOfChunks)\r\n          };\r\n        });\r\n      });\r\n    }\r\n    return legitCreatedVariantIds;\r\n  };\r\n  */\r\n\r\n  // to do: rename \"save\" instead of \"post\"\r\n  //        state variable also\r\n  showErrorOnPost = (message) => {\r\n    const RETENTION_TIME = 9000;\r\n    this.setState({ errorOnPost: message });\r\n    setTimeout(() => {\r\n      this.setState({ errorOnPost: \"\" });\r\n    }, RETENTION_TIME);\r\n  };\r\n\r\n  editNonCustomizablePictureselfApi = (id, data) => {\r\n    const formData = new FormData();\r\n    for (const [key, value] of Object.entries(data)) {\r\n      formData.append(key, value);\r\n    }\r\n    const config = {\r\n      headers: {\r\n        Authorization: getConfig().headers.Authorization,\r\n        \"content-type\": \"multipart/form-data\",\r\n      },\r\n    };\r\n    if (id === \"0\") {\r\n      return axios.post(API_URL + \"p/\" + id + \"/edit/\", formData, config);\r\n    } else {\r\n      return axios.put(API_URL + \"p/\" + id + \"/edit/\", formData, config);\r\n    }\r\n  };\r\n\r\n  editPictureself = () => {\r\n    const pictureselfId = this.state.pictureself_id;\r\n    const { customizableIsChecked, nonCustomizableImageFile } = this.state;\r\n\r\n    if (!customizableIsChecked) {\r\n      if (!nonCustomizableImageFile && pictureselfId == 0) {\r\n        this.showPostError(\"An Image Should Be Provided\");\r\n      } else {\r\n        this.setState({\r\n          isUploading: true,\r\n        });\r\n        const newData = {\r\n          title: this.state.pictureself_title,\r\n          description: this.state.pictureself_description,\r\n          tags: this.state.pictureself_tags,\r\n        };\r\n        if (nonCustomizableImageFile)\r\n          newData[\"image\"] = nonCustomizableImageFile;\r\n        this.editNonCustomizablePictureselfApi(pictureselfId, newData).then(\r\n          (response) => {\r\n            const idRedirectTo =\r\n              pictureselfId == \"0\"\r\n                ? response.data.new_pictureself_id\r\n                : pictureselfId;\r\n            this.props.history.push(\"/p/\" + idRedirectTo);\r\n          }\r\n        );\r\n      }\r\n    } else {\r\n      if (this.atLeastOneVariant()) {\r\n        this.setState({\r\n          isUploading: true,\r\n        });\r\n        let newInfo = this.getNewInfo();\r\n        let newFiles = this.getNewFiles();\r\n\r\n        this.editVariants(newFiles.edited_variant_ids, newFiles.variant_files)\r\n          .then((response) => {\r\n            this.createVariants(\r\n              newFiles.created_variant_ids,\r\n              newFiles.variant_files\r\n            ).then((response) => {\r\n              const legitCreatedVariantIds = this.state.legitCreatedVariantIds;\r\n              newInfo[\"created_variant_ids\"] = JSON.stringify(\r\n                legitCreatedVariantIds\r\n              );\r\n              for (let i = 0; i < legitCreatedVariantIds.length; ++i) {\r\n                newInfo[\"variant_order\"] = newInfo[\"variant_order\"].replace(\r\n                  '\"' + newFiles.created_variant_ids[i].toString() + '\"',\r\n                  '\"' + legitCreatedVariantIds[i].toString() + '\"'\r\n                );\r\n              }\r\n              this.editPictureselfInfoApi(pictureselfId, newInfo).then(\r\n                (response) => {\r\n                  const idRedirectTo =\r\n                    this.state.pictureself_id == \"0\"\r\n                      ? response.data.new_pictureself_id\r\n                      : this.state.pictureself_id;\r\n                  this.props.history.push(\"/p/\" + idRedirectTo);\r\n                }\r\n              );\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            this.showPostError(\"An Error Occured, Please Try Again\");\r\n            this.setState({\r\n              nFilesUploaded: 0,\r\n              legitCreatedVariantIds: [],\r\n              isUploading: false,\r\n            });\r\n          });\r\n      } else this.showErrorOnPost(\"At Least 1 Variant Should Be Provided\");\r\n    }\r\n  };\r\n\r\n  handleDeletePictureself = () => {\r\n    const { pictureself } = this.props.match.params;\r\n    if (pictureself !== \"0\") {\r\n      this.deletePictureselfApi(pictureself)\r\n        .then((response) => {\r\n          this.props.history.push(\"/\" + this.state.channel_username);\r\n        })\r\n        .catch((error) => {\r\n          this.setState({ errorOnPost: \"An Error Occured, Please Try Again\" });\r\n          setTimeout(() => {\r\n            this.setState({ errorOnPost: \"\" });\r\n          }, 9000);\r\n        });\r\n    } else {\r\n      this.props.history.push(\"/\" + this.state.channel_username);\r\n    }\r\n  };\r\n\r\n  deleteModalShow = () => this.setState({ showDeleteModal: true });\r\n  closeDeleteModal = () => this.setState({ showDeleteModal: false });\r\n\r\n  render() {\r\n    let feature_order_copy = this.state.feature_order.slice();\r\n    const reversed_feature_order = feature_order_copy.reverse();\r\n    const feature_order_length = this.state.feature_order.length;\r\n    const {\r\n      customizableIsChecked,\r\n      nonCustomizableImageURL,\r\n      nonCustomizableImageAlt,\r\n    } = this.state;\r\n\r\n    let featureToImportOptions = [];\r\n    let option_create_new = {};\r\n    option_create_new[\"key\"] = \"create_new\";\r\n    option_create_new[\"text\"] = \"(create new)\";\r\n    option_create_new[\"value\"] = \"create_new\";\r\n    featureToImportOptions.push(option_create_new);\r\n    for (const [key, value] of Object.entries(this.state.features_to_include)) {\r\n      // remove if check to enable feaure multiple inclusion\r\n      if (!this.state.feature_order.includes(key)) {\r\n        let option = {};\r\n        option[\"key\"] = key;\r\n        option[\"text\"] = value;\r\n        option[\"value\"] = key;\r\n        featureToImportOptions.push(option);\r\n      }\r\n    }\r\n\r\n    const editfeatures = reversed_feature_order.map((feature_id, index) => (\r\n      <EditFeature\r\n        key={feature_id}\r\n        feature_index={feature_order_length - index - 1}\r\n        insert={this.state.insertChecked}\r\n        updateFeature={this.updateFeature}\r\n        insertFeature={this.insertFeature}\r\n        remove_feature={this.removeFeature}\r\n        title={\r\n          feature_id.indexOf(\"i\") > -1\r\n            ? this.state.features_to_include[\r\n                feature_id.substring(0, feature_id.indexOf(\"i\"))\r\n              ]\r\n            : this.state.features[feature_id]\r\n        }\r\n        feature_id={feature_id}\r\n        variant_order={\r\n          this.state.variant_order[feature_order_length - index - 1]\r\n        }\r\n        variant_names={this.state.variant_names}\r\n        variant_urls={this.state.variant_urls}\r\n        variant_files={this.state.variant_files}\r\n        addVariants={this.addVariants}\r\n        updateVariant={this.updateVariant}\r\n        insertVariant={this.insertVariant}\r\n        removeVariant={this.removeVariant}\r\n        imported={feature_id.indexOf(\"i\") > -1}\r\n        features_to_include={this.state.features_to_include}\r\n        variantsAreImported={this.state.features_with_imported_variants.includes(\r\n          feature_id\r\n        )}\r\n      />\r\n    ));\r\n    let insertCheckbox;\r\n    if (this.state.feature_order.length > 0) {\r\n      insertCheckbox = (\r\n        <React.Fragment>\r\n          <Checkbox\r\n            toggle\r\n            size=\"large\"\r\n            label=\"Insert feature\"\r\n            style={{ \"margin-bottom\": \"0px\" }}\r\n            checked={this.state.insertChecked}\r\n            onChange={this.showInsertPositions}\r\n          />\r\n          <br />\r\n          <br />\r\n        </React.Fragment>\r\n      );\r\n    }\r\n    const { feature_to_include } = this.state;\r\n    const { pictureself } = this.props.match.params;\r\n\r\n    const editContentMenu = !customizableIsChecked ? (\r\n      <React.Fragment>\r\n        {!nonCustomizableImageURL ? (\r\n          <React.Fragment>\r\n            <Dropzone\r\n              onDrop={this.onNonCustomizableImageChange}\r\n              multiple={false}\r\n              accept=\"image/*\"\r\n            ></Dropzone>\r\n            <br />\r\n          </React.Fragment>\r\n        ) : (\r\n          <React.Fragment>\r\n            <img src={nonCustomizableImageURL} alt={nonCustomizableImageAlt} />{\" \"}\r\n            <br />\r\n            <br />\r\n          </React.Fragment>\r\n        )}\r\n        <Button\r\n          content={!nonCustomizableImageURL ? \"Add image\" : \"Change image\"}\r\n          as=\"label\"\r\n          htmlFor={\"hiddenFileInputNonCustomizableImage\"}\r\n        />\r\n        <input\r\n          hidden\r\n          id={\"hiddenFileInputNonCustomizableImage\"}\r\n          type=\"file\"\r\n          onChange={(e) => this.onNonCustomizableImageChange(e.target.files)}\r\n        />\r\n      </React.Fragment>\r\n    ) : (\r\n      <React.Fragment>\r\n        <Button\r\n          content=\"Add feature\"\r\n          onClick={\r\n            this.state.feature_to_include === \"create_new\"\r\n              ? this.addFeature\r\n              : () =>\r\n                  this.insertFeature(\r\n                    feature_order_length,\r\n                    feature_to_include,\r\n                    this.state.importVariantsIsChecked\r\n                  )\r\n          }\r\n        />{\" \"}\r\n        <Dropdown\r\n          onChange={(e, data) =>\r\n            this.handleFeatureImportDropdownChange(\r\n              e,\r\n              data,\r\n              feature_order_length\r\n            )\r\n          }\r\n          options={featureToImportOptions}\r\n          placeholder=\"Choose feature to import\"\r\n          defaultValue=\"create_new\"\r\n          selection\r\n          value={feature_to_include}\r\n          style={{\r\n            visibility:\r\n              Object.keys(this.state.features_to_include).length === 0\r\n                ? \"hidden\"\r\n                : \"visible\",\r\n          }}\r\n        />\r\n        <Checkbox\r\n          label=\"Import variants\"\r\n          style={{\r\n            \"margin-left\": \"5px\",\r\n            visibility:\r\n              feature_to_include === \"create_new\" ? \"hidden\" : \"visible\",\r\n          }}\r\n          checked={this.state.importVariantsIsChecked}\r\n          onChange={this.importVariantsCheckboxHandleChange}\r\n        />\r\n        <br />\r\n        <br />\r\n        {insertCheckbox}\r\n        <div>{editfeatures}</div>\r\n      </React.Fragment>\r\n    );\r\n    // ? add link to title\r\n\r\n    return (\r\n      <div style={{ \"margin-left\": \"35px\", \"padding-bottom\": \"20px\" }}>\r\n        <p id=\"editpictureself-header\">\r\n          {pictureself == 0 ? \"Create New\" : \"Edit \"}\r\n          <b> {pictureself == 0 ? \"\" : this.state.initial_pictureself_title}</b>\r\n        </p>\r\n        <Link to=\"/help\" target=\"_blank\">\r\n          <Icon\r\n            name=\"question circle outline\"\r\n            style={{ color: \"dodgerBlue\" }}\r\n          />\r\n          <p id=\"editpictureself-howitworks-link\">How It Works</p>\r\n        </Link>\r\n        <Form style={{ marginTop: \"15px\" }}>\r\n          <Form.Input\r\n            width=\"11\"\r\n            size=\"large\"\r\n            type=\"text\"\r\n            name=\"pictureself_title\"\r\n            placeholder=\"Title\"\r\n            value={this.state.pictureself_title}\r\n            onChange={(event) => this.handlePictureselfTitleChange(event)}\r\n            maxLength=\"200\"\r\n          />\r\n          <Form.TextArea\r\n            width=\"11\"\r\n            name=\"pictureself_description\"\r\n            placeholder=\"Comment\"\r\n            value={this.state.pictureself_description}\r\n            onChange={(event) => this.handlePictureselfDescriptionChange(event)}\r\n            maxLength=\"1000\"\r\n          />\r\n          <Form.TextArea\r\n            width=\"11\"\r\n            name=\"pictureself_tags\"\r\n            placeholder=\"Tags: angry cat, happy birthday, smile\"\r\n            value={this.state.pictureself_tags}\r\n            onChange={(event) => this.handlePictureselfTagsChange(event)}\r\n            maxLength=\"1000\"\r\n          />\r\n        </Form>\r\n        <br />\r\n        <br />\r\n        <Checkbox\r\n          toggle\r\n          size=\"large\"\r\n          label=\"Customizable\"\r\n          style={{ \"margin-bottom\": \"0px\" }}\r\n          checked={this.state.customizableIsChecked}\r\n          onChange={this.onCustomizableCheck}\r\n        />\r\n        <br />\r\n        <br />\r\n        <br />\r\n        {editContentMenu}\r\n        <br />\r\n        <br />\r\n        <p\r\n          className={\r\n            \"info-on-save\" + (this.state.errorOnPost != \"\" ? \" error\" : \"\")\r\n          }\r\n        >\r\n          {this.state.errorOnPost != \"\"\r\n            ? this.state.errorOnPost\r\n            : this.state.isUploading\r\n            ? \"Uploading... \" +\r\n              Math.max(\r\n                ~~(\r\n                  (this.state.nFilesUploaded /\r\n                    Object.keys(this.state.variant_files).length) *\r\n                  100\r\n                ) - 1,\r\n                1\r\n              ).toString() +\r\n              \"%\"\r\n            : \"\"}\r\n        </p>\r\n        <Button\r\n          floated=\"left\"\r\n          size=\"large\"\r\n          icon\r\n          color=\"red\"\r\n          basic\r\n          onClick={this.deleteModalShow}\r\n        >\r\n          <Icon name=\"trash alternate outline\" />\r\n          DELETE\r\n        </Button>\r\n        <Modal\r\n          open={this.state.showDeleteModal}\r\n          size=\"small\"\r\n          onClose={this.closeDeleteModal}\r\n        >\r\n          <Header icon=\"trash alternate outline\" content=\"Delete pictureself\" />\r\n          <Modal.Content>\r\n            <p>Are you sure you want to delete this pictureself?</p>\r\n          </Modal.Content>\r\n          <Modal.Actions>\r\n            <Button onClick={this.closeDeleteModal} color=\"blue\" inverted>\r\n              <Icon name=\"remove\" /> Cancel\r\n            </Button>\r\n            <Button\r\n              color=\"red\"\r\n              onClick={() => this.handleDeletePictureself()}\r\n              inverted\r\n            >\r\n              <Icon name=\"checkmark\" /> Delete\r\n            </Button>\r\n          </Modal.Actions>\r\n        </Modal>\r\n        <Button\r\n          floated=\"right\"\r\n          content=\"SAVE\"\r\n          primary\r\n          size=\"large\"\r\n          style={{\r\n            \"margin-right\": \"35px\",\r\n            \"margin-bottom\": \"35px\",\r\n          }}\r\n          loading={this.state.isUploading}\r\n          onClick={\r\n            pictureself === 0\r\n              ? () => this.createPictureself()\r\n              : () => this.editPictureself()\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { Button, Form } from \"semantic-ui-react\";\r\nimport React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport store from \"../../store\";\r\nimport { getConfig } from \"../../utils/config\";\r\nimport { apiErrorHandler } from \"../../utils/errorhandler\";\r\nimport { API_URL } from \"../../api/constants\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default class CreatePN extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      titles: \"\",\r\n      files: [],\r\n      urls: [],\r\n      names: [],\r\n      isUploading: false,\r\n    };\r\n  }\r\n\r\n  postPictureselfApi = (title, file) => {\r\n    const formData = new FormData();\r\n    formData.append(\"title\", title);\r\n    formData.append(\"image\", file);\r\n    formData.append(\"description\", \"\");\r\n    formData.append(\"tags\", \"\");\r\n    const config = {\r\n      headers: {\r\n        Authorization: getConfig().headers.Authorization,\r\n        \"content-type\": \"multipart/form-data\",\r\n      },\r\n    };\r\n    return axios.post(API_URL + \"p/0/edit/\", formData, config);\r\n  };\r\n\r\n  postPictureselfSequence = (titles, files) => {\r\n    var sequence = Promise.resolve();\r\n    for (let i = 0; i < titles.length; ++i)\r\n      sequence = sequence.then(() =>\r\n        this.postPictureselfApi(titles[i], files[i])\r\n      );\r\n    return sequence;\r\n  };\r\n\r\n  postPictureselfs = (titles, files) => {\r\n    const titlesArray = JSON.parse(\"[\" + titles + \"]\");\r\n    this.setState({ isUploading: true });\r\n    this.postPictureselfSequence(titlesArray, files)\r\n      .then((response) => {\r\n        this.props.history.push(\"/\" + store.getState().auth.username);\r\n      })\r\n      .catch((error) => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        // to do\r\n        alert(errorMessage);\r\n      });\r\n  };\r\n\r\n  handleTitlesChange = (event) => {\r\n    this.setState({ titles: event.target.value });\r\n  };\r\n\r\n  handleImagesChange = (files) => {\r\n    let nFiles = files.length;\r\n    let newNames = [];\r\n    let newFiles = [];\r\n    let newUrls = [];\r\n    for (let i = 0; i < nFiles; ++i) {\r\n      newFiles.push(files[i]);\r\n      newNames.push(files[i].name);\r\n      newUrls.push(window.URL.createObjectURL(files[i]));\r\n    }\r\n    this.setState({\r\n      files: newFiles,\r\n      names: newNames,\r\n      urls: newUrls,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { titles, files, urls, names, isUploading } = this.state;\r\n    const images = urls.map((url, index) => (\r\n      <img src={url} alt={names[index]} />\r\n    ));\r\n    return (\r\n      <div>\r\n        <Form style={{ marginTop: \"15px\", marginLeft: \"15px\" }}>\r\n          <Form.TextArea\r\n            width=\"11\"\r\n            name=\"titles\"\r\n            placeholder=\"\"\r\n            value={titles}\r\n            onChange={(event) => this.handleTitlesChange(event)}\r\n            maxLength=\"1000\"\r\n          />\r\n        </Form>\r\n        <br />\r\n        <br />\r\n        {images}\r\n        <Button\r\n          as=\"label\"\r\n          style={{\r\n            backgroundColor: \"transparent\",\r\n            margin: 0,\r\n          }}\r\n          icon=\"file image\"\r\n          htmlFor={\"hiddenFileInput\"}\r\n        />\r\n        <input\r\n          hidden\r\n          id={\"hiddenFileInput\"}\r\n          accept=\"image/*\"\r\n          multiple\r\n          type=\"file\"\r\n          onChange={(e) => this.handleImagesChange(e.target.files)}\r\n          onClick={(event) => {\r\n            event.target.value = null;\r\n          }}\r\n        />\r\n        <br />\r\n        <br />\r\n        <Button\r\n          floated=\"right\"\r\n          content=\"SAVE\"\r\n          primary\r\n          size=\"large\"\r\n          style={{\r\n            \"margin-right\": \"35px\",\r\n            \"margin-bottom\": \"35px\",\r\n          }}\r\n          loading={isUploading}\r\n          onClick={() => this.postPictureselfs(titles, files)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import {\r\n  Button,\r\n  Checkbox,\r\n  Form,\r\n  Dropdown,\r\n  Message,\r\n  Icon,\r\n  Modal,\r\n  Header\r\n} from \"semantic-ui-react\";\r\nimport React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { getConfig } from \"../../utils/config\";\r\nimport { apiErrorHandler } from \"../../utils/errorhandler\";\r\nimport Gallery from \"../gallery\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loader from \"../loader\";\r\nimport \"./styles.css\";\r\nimport { API_URL } from \"../../api/constants\";\r\n\r\n// ? merge with 'home' component into 'set' component\r\nexport default class Likes extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      pictureselfs: [],\r\n      isLoading: true\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchPictureselfsIndex();\r\n  }\r\n\r\n  fetchPictureselfsIndexApi = () => {\r\n    return axios.get(API_URL + \"user/liked-pictureselfs/\", getConfig());\r\n  };\r\n\r\n  fetchPictureselfsIndex = () => {\r\n    this.fetchPictureselfsIndexApi()\r\n      .then(response => {\r\n        this.setState(\r\n          {\r\n            pictureselfs: response.data\r\n          },\r\n          () => {\r\n            this.setState({ isLoading: false });\r\n          }\r\n        );\r\n      })\r\n      .catch(error => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        //alert(error);\r\n        // to do\r\n        //alert(errorMessage);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    if (isLoading) {\r\n      return (\r\n        <div style={{ \"margin-top\": \"35px\" }}>\r\n          <Loader />\r\n        </div>\r\n      );\r\n    } else {\r\n      const COLUMN_WIDTH = 200;\r\n      const GUTTER_WIDTH = 10;\r\n      const GUTTER_HEIGHT = 20;\r\n      return (\r\n        <div>\r\n          <p id=\"likes-title\">Likes</p>\r\n          <Gallery\r\n            columnWidth={COLUMN_WIDTH}\r\n            gutterWidth={GUTTER_WIDTH}\r\n            gutterHeight={GUTTER_HEIGHT}\r\n            pictureselfs={this.state.pictureselfs}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport StatusMessage from \"../statusmessage\";\r\nimport UserCard from \"../usercard\";\r\nimport \"./styles.css\";\r\nimport Loader from \"../loader\";\r\nimport { getConfig } from \"../../utils/config\";\r\nimport { apiErrorHandler } from \"../../utils/errorhandler\";\r\nimport axios from \"axios\";\r\n\r\nexport default class SubscriptionList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      channels: [],\r\n      isLoading: true\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.fetchChannels();\r\n  }\r\n  fetchChannels = () => {\r\n    this.fetchChannelsApi()\r\n      .then(response => {\r\n        this.setState(\r\n          {\r\n            channels: response.data\r\n          },\r\n          () => {\r\n            this.setState({ isLoading: false });\r\n          }\r\n        );\r\n      })\r\n      .catch(error => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        //alert(error);\r\n        // to do\r\n        //alert(errorMessage);\r\n      });\r\n  };\r\n\r\n  fetchChannelsApi = () => {\r\n    return axios.get(\r\n      \"http://127.0.0.1:8000/api/user/channels-subscribed-to/\",\r\n      getConfig()\r\n    );\r\n  };\r\n  render() {\r\n    const { isLoading, channels } = this.state;\r\n    if (isLoading) {\r\n      return (\r\n        <div style={{ \"margin-top\": \"35px\" }}>\r\n          <Loader />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const userCardList = channels.map(user => {\r\n      const { name, username, avatar } = user;\r\n\r\n      return (\r\n        <div key={username} className=\"userCard\">\r\n          <UserCard username={username} name={name} avatar={avatar} />\r\n        </div>\r\n      );\r\n    });\r\n    return (\r\n      <div>\r\n        {\" \"}\r\n        <p id=\"subscription-list-title\">Subscriptions</p>\r\n        <div className=\"usersContainer\"> {userCardList}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import store from \"../../store\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\n/*\r\nResource: https://reacttraining.com/react-router/web/example/auth-workflow\r\nRefactor: change to component, connect to store, implement redirectToReferrer in Login, Register\r\nhttps://stackoverflow.com/questions/43520498/react-router-private-routes-redirect-not-working\r\nhttps://stackoverflow.com/questions/43892050/react-router-4-x-privateroute-not-working-after-connecting-to-redux\r\n*/\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        store.getState().auth.isAuthenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import { Button, Popup, Icon, Label } from \"semantic-ui-react\";\r\nimport React, { Component } from \"react\";\r\nimport \"./styles.css\";\r\nimport axios from \"axios\";\r\nimport { getConfig } from \"../../utils/config\";\r\nimport { apiErrorHandler } from \"../../utils/errorhandler\";\r\nimport { Link } from \"react-router-dom\";\r\nimport store from \"../../store\";\r\nimport Linkify from \"linkifyjs/react\";\r\nimport Loader from \"../loader\";\r\nimport { API_URL } from \"../../api/constants\";\r\nimport { imageComposer } from \"../../utils/imagecomposer\";\r\n\r\nexport default class P extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      id: this.props.match.params.pictureself,\r\n      title: \"\",\r\n      comment: \"\",\r\n      date: \"\",\r\n      username: \"\", //author's\r\n      name: \"\", //author's\r\n      avatar: \"\",\r\n      isCustomizable: false,\r\n      isLiked: false,\r\n      numberOfLikes: 0,\r\n      likePopupIsVisible: true,\r\n      buttonsDivHeight: 0,\r\n      canvasDataURL: \"\",\r\n      width: 0,\r\n      height: 0,\r\n      isLoading: true,\r\n    };\r\n  }\r\n  fetchPictureselfDisplayApi = (id) => {\r\n    let config = store.getState().auth.isAuthenticated\r\n      ? getConfig()\r\n      : { params: store.getState().customize };\r\n    return axios.get(API_URL + \"p/\" + id, config);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchPictureselfDisplay();\r\n  }\r\n\r\n  fetchPictureselfDisplay = () => {\r\n    const pictureself = this.state.id;\r\n    this.fetchPictureselfDisplayApi(pictureself)\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            title: response.data[\"title\"],\r\n            imageUrls: response.data[\"image_urls\"],\r\n            comment: response.data[\"description\"],\r\n            username: response.data[\"username\"],\r\n            name: response.data[\"name\"],\r\n            isCustomizable: response.data[\"is_customizable\"],\r\n            isLiked: response.data[\"is_liked\"],\r\n            numberOfLikes: response.data[\"number_of_likes\"],\r\n            date: response.data[\"timestamp\"],\r\n            avatar: response.data[\"avatar\"],\r\n          },\r\n          () => {\r\n            imageComposer(this.state.imageUrls)\r\n              .then((composedImage) => {\r\n                this.setState(\r\n                  {\r\n                    width: composedImage.width,\r\n                    height: composedImage.height,\r\n                    canvasDataURL: composedImage.url,\r\n                    isLoading: false,\r\n                  },\r\n                  () => {\r\n                    if (\r\n                      this.props.location.pathname ==\r\n                      \"/p/\" + this.props.match.params.pictureself + \"/like\"\r\n                    ) {\r\n                      this.toggleLike();\r\n                    }\r\n                    const buttonsDivHeight = this.buttonsDiv.clientHeight;\r\n                    this.setState({ buttonsDivHeight });\r\n                  }\r\n                );\r\n              })\r\n              .catch((error) => {\r\n                alert(error);\r\n              });\r\n          }\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        alert(error);\r\n        // to do\r\n        alert(errorMessage);\r\n      });\r\n  };\r\n\r\n  toggleLikeApi = (id) => {\r\n    return axios.get(API_URL + \"p/\" + id + \"/toggle-like/\", getConfig());\r\n  };\r\n  toggleLike = () => {\r\n    const isAuthenticated = store.getState().auth.isAuthenticated;\r\n    if (isAuthenticated) {\r\n      this.setState({ likePopupIsVisible: false });\r\n      this.setState({\r\n        numberOfLikes: this.state.isLiked\r\n          ? this.state.numberOfLikes - 1\r\n          : this.state.numberOfLikes + 1,\r\n      });\r\n      this.setState({ isLiked: !this.state.isLiked });\r\n      this.toggleLikeApi(this.state.id);\r\n    } else {\r\n      let location = this.props.location;\r\n      location.pathname = \"/p/\" + this.props.match.params.pictureself + \"/like\";\r\n      this.props.history.push({\r\n        pathname: \"/login\",\r\n        state: { from: location },\r\n      });\r\n    }\r\n  };\r\n  redirectToEdit = () => {\r\n    this.props.history.push({\r\n      pathname: \"/p/\" + this.props.match.params.pictureself + \"/edit/\",\r\n    });\r\n  };\r\n  redirectToCustomize = () => {\r\n    this.props.history.push({\r\n      pathname: \"/p/\" + this.props.match.params.pictureself + \"/customize/\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    if (isLoading) {\r\n      return (\r\n        <div style={{ \"margin-top\": \"35px\" }}>\r\n          <Loader />\r\n        </div>\r\n      );\r\n    } else {\r\n      const { width, height, canvasDataURL } = this.state;\r\n      const MIN_WIDTH = 300;\r\n      const MIN_HEIGHT = 300;\r\n      const MENU_WIDTH = 250; //value used also in css file\r\n      const imgPaddingLeftRight =\r\n        width < MIN_WIDTH ? (MIN_WIDTH - width) / 2 : 0;\r\n      const imgPaddingTopBottom =\r\n        height < MIN_HEIGHT ? (MIN_HEIGHT - height) / 2 : 0;\r\n      const avatarImageSrc = this.state.avatar\r\n        ? this.state.avatar\r\n        : \"https://afcm.ca/wp-content/uploads/2018/06/no-photo.png\";\r\n      const popupStyle = {\r\n        borderRadius: 3,\r\n        opacity: 0.8,\r\n        \"padding-top\": \"0.25em\",\r\n        \"padding-bottom\": \"0.25em\",\r\n        \"padding-left\": \"0.5em\",\r\n        \"padding-right\": \"0.5em\",\r\n      };\r\n      const customizeButton = this.state.isCustomizable ? (\r\n        <div id=\"p-customize-button\" onClick={this.redirectToCustomize}>\r\n          CUSTOMIZE\r\n        </div>\r\n      ) : (\r\n        <div />\r\n      );\r\n      //document.body.style = \"background: rgb(235, 235, 235);\";\r\n      const menuDivHeight = height < MIN_HEIGHT ? MIN_HEIGHT : height;\r\n      const infoDivHeight = menuDivHeight - this.state.buttonsDivHeight;\r\n      const { date } = this.state;\r\n      const months = [\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Aug\",\r\n        \"Sept\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\",\r\n      ];\r\n      let dateDisplay = \"\";\r\n      if (date != \"\") {\r\n        const month =\r\n          date[5] === \"0\"\r\n            ? months[parseInt(date[6]) - 1]\r\n            : months[parseInt(date.substr(5, 2)) - 1];\r\n        const day = date[8] === \"0\" ? date[9] : date.substr(8, 2);\r\n        const year = date.substr(0, 4);\r\n        dateDisplay = month + \" \" + day + \", \" + year;\r\n      }\r\n      const viewerUsername = store.getState().auth.username;\r\n      const editButton =\r\n        viewerUsername == this.state.username ? (\r\n          <div id=\"p-edit-button\">\r\n            <Button onClick={this.redirectToEdit} basic>\r\n              Edit\r\n            </Button>\r\n          </div>\r\n        ) : null;\r\n      return (\r\n        <div id=\"p-container\">\r\n          <div id=\"p-background\" />\r\n          <div id=\"p-outer\">\r\n            <div id=\"p-inner\">\r\n              {editButton}\r\n              <img\r\n                alt={this.state.title}\r\n                src={canvasDataURL}\r\n                style={{\r\n                  \"padding-left\": imgPaddingLeftRight,\r\n                  \"padding-right\": imgPaddingLeftRight,\r\n                  \"padding-top\": imgPaddingTopBottom,\r\n                  \"padding-bottom\": imgPaddingTopBottom,\r\n                  \"border-right\": \"1px solid rgb(235, 235, 235)\",\r\n                }}\r\n              />\r\n              <div\r\n                id=\"p-menu\"\r\n                style={{\r\n                  height: menuDivHeight,\r\n                }}\r\n              >\r\n                <div id=\"p-info\" style={{ height: infoDivHeight }}>\r\n                  <p id=\"p-title\">{this.state.title}</p>\r\n                  <Link to={`/${this.state.username}/`}>\r\n                    <div id=\"p-channel\">\r\n                      <img src={avatarImageSrc} alt=\"Avatar\" id=\"p-avatar\" />\r\n                      <p id=\"p-name\">{this.state.name}</p>\r\n                    </div>\r\n                  </Link>\r\n                  <p id=\"p-date\">{dateDisplay}</p>\r\n                  <div id=\"p-comment\">\r\n                    <Linkify tagName=\"p\">{this.state.comment}</Linkify>\r\n                  </div>\r\n                </div>\r\n                <div id=\"p-buttons\">\r\n                  {customizeButton}\r\n                  <div\r\n                    id=\"p-like-download-buttons\"\r\n                    ref={(buttonsDiv) => (this.buttonsDiv = buttonsDiv)}\r\n                  >\r\n                    <Popup\r\n                      position=\"top center\"\r\n                      mouseEnterDelay={750}\r\n                      verticalOffset={3}\r\n                      trigger={\r\n                        <a\r\n                          href={canvasDataURL}\r\n                          download={`${this.state.title}.png`}\r\n                        >\r\n                          <Button\r\n                            style={{\r\n                              padding: \"10px\",\r\n                              \"margin-right\": \"5px\",\r\n                              backgroundColor: \"transparent\",\r\n                            }}\r\n                            icon\r\n                          >\r\n                            <Icon size=\"large\" name=\"arrow down\" />\r\n                          </Button>\r\n                        </a>\r\n                      }\r\n                      content=\"Download\"\r\n                      size=\"large\"\r\n                      style={popupStyle}\r\n                      inverted\r\n                      basic\r\n                    />\r\n\r\n                    <Popup\r\n                      position=\"top center\"\r\n                      mouseEnterDelay={750}\r\n                      verticalOffset={-5}\r\n                      disabled={!this.state.likePopupIsVisible}\r\n                      trigger={\r\n                        <Button\r\n                          as=\"div\"\r\n                          style={{\r\n                            \"margin-left\": \"-10px\",\r\n                            backgroundColor: \"transparent\",\r\n                          }}\r\n                          labelPosition=\"right\"\r\n                          onClick={this.toggleLike}\r\n                        >\r\n                          <Button\r\n                            style={{\r\n                              padding: \"10px\",\r\n                              backgroundColor: \"transparent\",\r\n                            }}\r\n                            icon\r\n                          >\r\n                            <Icon\r\n                              size=\"large\"\r\n                              name={\r\n                                this.state.isLiked ? \"heart\" : \"heart outline\"\r\n                              }\r\n                              color=\"red\"\r\n                            />\r\n                          </Button>\r\n                          <Label\r\n                            style={{\r\n                              backgroundColor: \"transparent\",\r\n                              color: this.state.isLiked\r\n                                ? \"rgb(215, 55, 55)\"\r\n                                : \"\",\r\n                              padding: \"0px\",\r\n                            }}\r\n                            as=\"a\"\r\n                          >\r\n                            {this.state.numberOfLikes == 0\r\n                              ? \"\"\r\n                              : this.state.numberOfLikes}\r\n                          </Label>\r\n                        </Button>\r\n                      }\r\n                      content={this.state.isLiked ? \"Unike\" : \"Like\"}\r\n                      size=\"large\"\r\n                      style={popupStyle}\r\n                      inverted\r\n                      basic\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div id=\"p-post-inner-space\" />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import {\r\n  Button,\r\n  Checkbox,\r\n  Form,\r\n  Dropdown,\r\n  Message,\r\n  Icon,\r\n  Modal,\r\n  Header,\r\n} from \"semantic-ui-react\";\r\nimport React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { getConfig } from \"../../utils/config\";\r\nimport { apiErrorHandler } from \"../../utils/errorhandler\";\r\nimport { imageComposer } from \"../../utils/imagecomposer\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loader from \"../loader\";\r\nimport StackGrid from \"react-stack-grid\";\r\nimport \"./styles.css\";\r\nimport { API_URL } from \"../../api/constants\";\r\nimport store from \"../../store\";\r\n\r\nexport default class Customize extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleActiveFeatureChange = this.handleActiveFeatureChange.bind(this);\r\n    this.handleActiveOptionChange = this.handleActiveOptionChange.bind(this);\r\n\r\n    this.state = {\r\n      // to do: consider replacing \"_ids\" and \"_titles\" with \"features\" - array of objects\r\n      featureIds: [], //features that have more than 1 variant\r\n      featureTitles: [],\r\n      allFeatureIds: [],\r\n      activeFeatureId: 0,\r\n      activeOptionIndex: -1, // int; -1 = not customized yet: silver border around first option\r\n      customizationVariantImageUrls: [],\r\n      customizationVariantAlts: [],\r\n      featureVariantImageUrls: [],\r\n      featureVariantAlts: [],\r\n      canvasDataURLs: [],\r\n      widths: [],\r\n      heights: [],\r\n      nImagesComposed: 0,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const pictureselfId = this.props.id;\r\n    // includes this.handleActiveFeatureChange(firstFeatureId)\r\n    // that includes this.fetchPictureselfOptions(firstFeatureId)\r\n    // as callback in asynchronous setState()\r\n    this.fetchFeatures(pictureselfId);\r\n  }\r\n\r\n  // to do: process also features present multiple times (one id several indices)\r\n  // to do: make version of image composer for this component\r\n  //          create image elements for under and over layers just once\r\n  composeImages = () => {\r\n    const {\r\n      customizationVariantImageUrls,\r\n      featureVariantImageUrls,\r\n    } = this.state;\r\n    const activeFeatureIndex = this.state.allFeatureIds.indexOf(\r\n      this.state.activeFeatureId\r\n    );\r\n    const underLayerImageUrls = customizationVariantImageUrls.slice(\r\n      0,\r\n      activeFeatureIndex\r\n    );\r\n    const overLayerImageUrls = customizationVariantImageUrls.slice(\r\n      activeFeatureIndex + 1\r\n    );\r\n\r\n    let layerPromises = [];\r\n\r\n    let underLayerCanvasDataURL = \"\";\r\n    if (underLayerImageUrls.length > 0) {\r\n      var underLayerPromise = imageComposer(underLayerImageUrls).then(\r\n        (composedImage) => {\r\n          underLayerCanvasDataURL = composedImage.url;\r\n        }\r\n      );\r\n      layerPromises.push(underLayerPromise);\r\n    }\r\n\r\n    let overLayerCanvasDataURL = \"\";\r\n    if (overLayerImageUrls.length > 0) {\r\n      var overLayerPromise = imageComposer(overLayerImageUrls).then(\r\n        (composedImage) => {\r\n          overLayerCanvasDataURL = composedImage.url;\r\n        }\r\n      );\r\n      layerPromises.push(overLayerPromise);\r\n    }\r\n\r\n    Promise.all(layerPromises).then(() => {\r\n      let imageUrls = [];\r\n      let middleLayerIndex = 0;\r\n      if (underLayerCanvasDataURL !== \"\") {\r\n        imageUrls.push(underLayerCanvasDataURL);\r\n        middleLayerIndex = 1;\r\n      }\r\n      if (overLayerCanvasDataURL !== \"\") {\r\n        imageUrls.push(\"\");\r\n        imageUrls.push(overLayerCanvasDataURL);\r\n      }\r\n\r\n      for (let i = 0; i < featureVariantImageUrls.length; ++i) {\r\n        imageUrls[middleLayerIndex] = featureVariantImageUrls[i];\r\n        imageComposer(imageUrls)\r\n          .then((composedImage) => {\r\n            this.setState((state) => {\r\n              let newCanvasDataURLs = [...state.canvasDataURLs];\r\n              let newWidths = [...state.widths];\r\n              let newHeights = [...state.heights];\r\n\r\n              newCanvasDataURLs[i] = composedImage.url;\r\n              newWidths[i] = composedImage.width;\r\n              newHeights[i] = composedImage.height;\r\n\r\n              return {\r\n                canvasDataURLs: newCanvasDataURLs,\r\n                widths: newWidths,\r\n                heights: newHeights,\r\n                imagesComposed: state.imagesComposed + 1,\r\n              };\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            alert(error);\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  fetchPictureselfFeaturesApi = (id) => {\r\n    return axios.get(API_URL + \"features/p/\" + id);\r\n  };\r\n\r\n  fetchChannelFeaturesApi = (username) => {\r\n    return axios.get(API_URL + \"features/\" + username);\r\n  };\r\n\r\n  fetchFeaturesApiPictureselfChannelSwitch = () => {\r\n    const { type } = this.props;\r\n    if (type == \"pictureself\") {\r\n      return this.fetchPictureselfFeaturesApi(this.props.id);\r\n    } else {\r\n      return this.fetchChannelFeaturesApi(this.props.id);\r\n    }\r\n  };\r\n\r\n  fetchFeatures = (pictureselfId) => {\r\n    this.fetchFeaturesApiPictureselfChannelSwitch()\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            featureIds: response.data[\"feature_ids\"],\r\n            featureTitles: response.data[\"feature_titles\"],\r\n            allFeatureIds: response.data[\"all_feature_ids\"],\r\n          },\r\n          () => {\r\n            this.fetchPictureselfCustomizationVariants(pictureselfId);\r\n\r\n            //this.fetchPictureselfFeatureVariants(pictureselfId, featureId);\r\n          }\r\n        );\r\n        //const firstFeatureId = response.data[\"feature_ids\"][0];\r\n        //this.handleActiveFeatureChange(firstFeatureId);\r\n      })\r\n      .catch((error) => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        // to do\r\n        alert(errorMessage);\r\n      });\r\n  };\r\n\r\n  fetchPictureselfCustomizationPositionApi = (featureId) => {\r\n    return axios.get(\r\n      API_URL + \"customizations/\" + featureId + \"/\",\r\n      getConfig()\r\n    );\r\n  };\r\n\r\n  fetchPictureselfCustomizationVariants = (pictureselfId) => {\r\n    this.fetchPictureselfCustomizationVariantsApi(pictureselfId)\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            customizationVariantImageUrls: response.data[\"variant_image_urls\"],\r\n            customizationVariantAlts: response.data[\"variant_original_names\"],\r\n          },\r\n          () => {\r\n            this.handleActiveFeatureChange(this.state.featureIds[0]);\r\n          }\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        // to do\r\n        alert(errorMessage);\r\n      });\r\n  };\r\n\r\n  fetchPictureselfCustomizationVariantsApi = (id) => {\r\n    let config = store.getState().auth.isAuthenticated\r\n      ? getConfig()\r\n      : { params: store.getState().customize };\r\n    return axios.get(API_URL + \"p/\" + id + \"/customization-variants/\", config);\r\n  };\r\n\r\n  fetchPictureselfFeatureVariants = (pictureselfId, featureId) => {\r\n    this.fetchPictureselfFeatureVariantsApi(pictureselfId, featureId)\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            featureVariantImageUrls: response.data[\"variant_image_urls\"],\r\n            featureVariantAlts: response.data[\"variant_original_names\"],\r\n            nImagesComposed: 0,\r\n            canvasDataURLs: [],\r\n            widths: [],\r\n            heights: [],\r\n          },\r\n          () => {\r\n            this.composeImages();\r\n          }\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        // to do\r\n        alert(errorMessage);\r\n      });\r\n  };\r\n\r\n  fetchPictureselfFeatureVariantsApi = (pictureselfId, featureId) => {\r\n    return axios.get(\r\n      API_URL + \"p/\" + pictureselfId + \"/feature-variants/\" + featureId + \"/\",\r\n      getConfig()\r\n    );\r\n  };\r\n\r\n  fetchPictureselfCustomizationPosition = (featureId) => {\r\n    this.fetchPictureselfCustomizationPositionApi(featureId)\r\n      .then((response) => {\r\n        this.setState({\r\n          activeOptionIndex: response.data[\"customization_position\"],\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        // to do\r\n        alert(errorMessage);\r\n      });\r\n  };\r\n\r\n  editCustomizationPositionApi = (feature_id, position) => {\r\n    return axios.post(\r\n      API_URL + \"customizations/\" + feature_id + \"/edit/\",\r\n      { position: position },\r\n      getConfig()\r\n    );\r\n  };\r\n\r\n  handleActiveFeatureChange = (new_active_feature_id) => {\r\n    const pictureselfId = this.props.id;\r\n    this.setState(\r\n      {\r\n        activeFeatureId: new_active_feature_id,\r\n      },\r\n      () => {\r\n        this.fetchPictureselfFeatureVariants(\r\n          pictureselfId,\r\n          new_active_feature_id\r\n        );\r\n        if (this.props.isAuthenticated)\r\n          this.fetchPictureselfCustomizationPosition(new_active_feature_id);\r\n        else {\r\n          let newActiveOptionIndex =\r\n            new_active_feature_id in store.getState().customize\r\n              ? store.getState().customize[new_active_feature_id]\r\n              : -1;\r\n          this.setState({ activeOptionIndex: newActiveOptionIndex });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  handleActiveOptionChange = (newActiveOptionIndex) => {\r\n    this.setState({ activeOptionIndex: newActiveOptionIndex });\r\n    if (this.props.isAuthenticated)\r\n      this.editCustomizationPositionApi(\r\n        this.state.activeFeatureId,\r\n        newActiveOptionIndex\r\n      ).catch((error) => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        // to do\r\n        alert(errorMessage);\r\n      });\r\n    else\r\n      this.props.editCustomization({\r\n        [this.state.activeFeatureId]: newActiveOptionIndex,\r\n      });\r\n    //.then((response) => {\r\n    const {\r\n      customizationVariantImageUrls,\r\n      featureVariantImageUrls,\r\n\r\n      allFeatureIds,\r\n      activeFeatureId,\r\n    } = this.state;\r\n    let newCustomizationVariantImageUrls = [...customizationVariantImageUrls];\r\n    newCustomizationVariantImageUrls[allFeatureIds.indexOf(activeFeatureId)] =\r\n      featureVariantImageUrls[newActiveOptionIndex];\r\n    this.setState({\r\n      customizationVariantImageUrls: newCustomizationVariantImageUrls,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      activeOptionIndex,\r\n      widths,\r\n      heights,\r\n      canvasDataURLs,\r\n      featureVariantAlts,\r\n      nImagesComposed,\r\n    } = this.state;\r\n    const COLUMN_WIDTH = 200;\r\n    const GUTTER_WIDTH = 10;\r\n    const GUTTER_HEIGHT = 10;\r\n    const ACTIVE_OPTION_BORDER_WIDTH = 4;\r\n\r\n    let box_shadow_heights = [];\r\n\r\n    for (let i = 0; i < widths.length; i++) {\r\n      if (widths[i] !== undefined) {\r\n        let height =\r\n          widths[i] > COLUMN_WIDTH\r\n            ? heights[i] * (COLUMN_WIDTH / widths[i])\r\n            : heights[i] + (COLUMN_WIDTH - widths[i]);\r\n        box_shadow_heights[i] = height;\r\n      }\r\n    }\r\n\r\n    /*\r\n    // ternary operator with accessing element of array from props which data is fetched doesnt work in map\r\n    let activeOptionCardImageWidths;\r\n    let optionCardImageMargins;\r\n    \r\n    for (i = 0; i < widths_heights.length; i++) {\r\n      const width_height = pictureselfs[i];\r\n      box_shadow_heights[pictureself.id] =\r\n        pictureselfs[i].width_height[1] * (200 / pictureself.width_height[0]);\r\n      image_margins[pictureself.id] =\r\n        this.props.columnWidth > pictureself.width_height[0]\r\n          ? this.props.columnWidth - pictureself.width_height[0]\r\n          : 0;\r\n    }\r\n    */\r\n    const featureMenu = this.state.featureIds.map((feature_id, index) => (\r\n      <Button\r\n        basic\r\n        key={feature_id}\r\n        onClick={() => this.handleActiveFeatureChange(feature_id)}\r\n        content={\r\n          this.state.featureTitles[index] === \"\"\r\n            ? \"*\"\r\n            : this.state.featureTitles[index]\r\n        }\r\n        active={this.state.activeFeatureId == feature_id}\r\n        size=\"large\"\r\n        style={{\r\n          filter: \"brightness(109%)\",\r\n          \"margin-right\": \"7px\",\r\n          \"margin-bottom\": \"5px\",\r\n        }}\r\n        compact\r\n      />\r\n    ));\r\n\r\n    // ? replace border with rectangle independent from image to\r\n    // ? properly process images with width smaller than columnWidth\r\n    let optionCards = [];\r\n    for (let index = 0; index < canvasDataURLs.length; ++index) {\r\n      const canvasDataURL = canvasDataURLs[index];\r\n      if (canvasDataURL !== undefined) {\r\n        optionCards.push(\r\n          <div\r\n            key={index.toString()}\r\n            onClick={() => this.handleActiveOptionChange(index)}\r\n            style={{\r\n              width: COLUMN_WIDTH + \"px\",\r\n              height: box_shadow_heights[index].toString() + \"px\",\r\n              \"box-shadow\":\r\n                \"0px \" +\r\n                box_shadow_heights[index].toString() +\r\n                \"px inset rgba(175,175,175,0.075)\",\r\n              border:\r\n                index == activeOptionIndex\r\n                  ? \"5px solid DodgerBlue\"\r\n                  : index == 0\r\n                  ? activeOptionIndex == -1\r\n                    ? \"5px solid Silver\"\r\n                    : \"\"\r\n                  : \"\",\r\n            }}\r\n          >\r\n            <img\r\n              alt={featureVariantAlts[index]}\r\n              src={canvasDataURL}\r\n              style={{\r\n                \"max-width\": \"100%\",\r\n                width:\r\n                  index == activeOptionIndex\r\n                    ? widths[index] >\r\n                      COLUMN_WIDTH - 2 * ACTIVE_OPTION_BORDER_WIDTH\r\n                      ? (\r\n                          COLUMN_WIDTH -\r\n                          2 * ACTIVE_OPTION_BORDER_WIDTH\r\n                        ).toString()\r\n                      : \"\"\r\n                    : \"\",\r\n                height: \"auto\",\r\n                margin:\r\n                  index == activeOptionIndex ||\r\n                  (index == 0 && activeOptionIndex == -1)\r\n                    ? (COLUMN_WIDTH - 2 * ACTIVE_OPTION_BORDER_WIDTH >\r\n                      widths[index]\r\n                        ? (COLUMN_WIDTH -\r\n                            2 * ACTIVE_OPTION_BORDER_WIDTH -\r\n                            widths[index]) /\r\n                          2\r\n                        : \"0\") + \"px\"\r\n                    : (COLUMN_WIDTH > widths[index]\r\n                        ? (COLUMN_WIDTH - widths[index]) / 2\r\n                        : \"0\") + \"px\",\r\n\r\n                \"z-index\": \"-1\",\r\n                position: \"relative\",\r\n              }}\r\n            />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    const isLoading = nImagesComposed === featureVariantAlts.length;\r\n\r\n    return (\r\n      <div>\r\n        <Link\r\n          to={\r\n            this.props.type == \"pictureself\"\r\n              ? `/p/${this.props.id}/`\r\n              : `/${this.props.id}/`\r\n          }\r\n        >\r\n          <Button\r\n            style={{\r\n              backgroundColor: \"transparent\",\r\n              \"margin-left\": \"10px\",\r\n              \"margin-top\": \"5px\",\r\n              color: \"rgb(26, 141, 255)\",\r\n              \"font-size\": \"18px\",\r\n            }}\r\n            icon\r\n          >\r\n            <Icon\r\n              style={{\r\n                \"padding-right\": \"25px\",\r\n                color: \"rgb(0, 128, 255)\",\r\n              }}\r\n              name=\"check\"\r\n            />\r\n            DONE\r\n          </Button>\r\n        </Link>\r\n        <div id=\"feature-menu\">{featureMenu}</div>\r\n        <br />\r\n        <StackGrid\r\n          monitorImagesLoaded={true}\r\n          columnWidth={COLUMN_WIDTH}\r\n          gutterWidth={GUTTER_WIDTH}\r\n          gutterHeight={GUTTER_HEIGHT}\r\n          duration={0}\r\n        >\r\n          {optionCards}\r\n        </StackGrid>\r\n        <div\r\n          style={{\r\n            \"margin-top\": \"35px\",\r\n            visibility: isLoading ? \"visible\" : \"hidden\",\r\n          }}\r\n        >\r\n          <Loader />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Customize from \"../../components/customize\";\r\nimport { editCustomization } from \"../../actions\";\r\n\r\nclass CustomizeContainer extends Component {\r\n  render() {\r\n    const { isAuthenticated, customizations, editCustomization } = this.props;\r\n    const type =\r\n      \"pictureself\" in this.props.match.params ? \"pictureself\" : \"channel\";\r\n    const id =\r\n      type == \"pictureself\"\r\n        ? this.props.match.params.pictureself\r\n        : this.props.match.params.username;\r\n    return (\r\n      <Customize\r\n        isAuthenticated={isAuthenticated}\r\n        type={type}\r\n        id={id}\r\n        customizations={customizations}\r\n        editCustomization={editCustomization}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  customizations: state.customize.customizations,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  editCustomization: (newCustomization) => {\r\n    dispatch(editCustomization(newCustomization));\r\n  },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CustomizeContainer);\r\n","import { EDIT_CUSTOMIZATIONS } from \"./types\";\r\n\r\nexport const editCustomization = (newCustomization) => {\r\n  return {\r\n    type: EDIT_CUSTOMIZATIONS,\r\n    customization: newCustomization,\r\n  };\r\n};\r\n","const smileys = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\n\r\nconst peopleAndFantasy = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\n\r\nconst clothingAndAccessories = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\n\r\nconst animalsAndNature = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\n\r\nconst foodAndDrink = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\n\r\nconst activityAndSports = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\nconst travelAndPlaces = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\nconst objects = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\nconst symbols = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"0\",\r\n  \"1\",\r\n  \"2\",\r\n  \"3\",\r\n  \"4\",\r\n  \"5\",\r\n  \"6\",\r\n  \"7\",\r\n  \"8\",\r\n  \"9\",\r\n  \"\",\r\n  \"\",\r\n  \"#\",\r\n  \"*\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\nconst flags = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\nexport const emojis = {\r\n  smileys: smileys,\r\n  peopleAndFantasy: peopleAndFantasy,\r\n  clothingAndAccessories: clothingAndAccessories,\r\n  animalsAndNature: animalsAndNature,\r\n  foodAndDrink: foodAndDrink,\r\n  activityAndSports: activityAndSports,\r\n  travelAndPlaces: travelAndPlaces,\r\n  objects: objects,\r\n  symbols: symbols,\r\n  flags: flags,\r\n};\r\n","import { Button } from \"semantic-ui-react\";\r\nimport React, { Component } from \"react\";\r\nimport { emojis } from \"../../utils/emojis\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./styles.css\";\r\n\r\nclass EmojiPanel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isExpanded: props.isExpanded,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.getElementById(\r\n      \"emoji-panel-text-wrapper\"\r\n    ).scrollTop = this.props.scrollTop;\r\n  }\r\n\r\n  searchEmoji = (emoji) => {\r\n    const scrollPosition = document.getElementById(\"emoji-panel-text-wrapper\")\r\n      .scrollTop;\r\n    this.props.history.push({\r\n      pathname: \"/search\",\r\n      search:\r\n        \"?q=\" +\r\n        emoji +\r\n        \"&xpnd=\" +\r\n        this.state.isExpanded +\r\n        \"&scr=\" +\r\n        scrollPosition,\r\n    });\r\n  };\r\n\r\n  handleEmojiPanelExpandClick = () => {\r\n    this.setState({ isExpanded: !this.state.isExpanded });\r\n  };\r\n\r\n  render() {\r\n    const { isExpanded } = this.state;\r\n\r\n    let emojiLinks = [];\r\n    for (const emojiSetName in emojis) {\r\n      let emojiSetLinks = emojis[emojiSetName].map((emoji) => (\r\n        <p\r\n          role=\"img\"\r\n          style={{\r\n            cursor: \"pointer\",\r\n            display: \"inline-block\",\r\n            margin: \"0px\",\r\n            marginRight: \"5px\",\r\n          }}\r\n          onClick={() => this.searchEmoji(emoji)}\r\n        >\r\n          {emoji}\r\n        </p>\r\n      ));\r\n      emojiLinks = [...emojiLinks, ...emojiSetLinks];\r\n      emojiLinks.push(<br />);\r\n      emojiLinks.push(<br />);\r\n      emojiLinks.push(<br />);\r\n    }\r\n    emojiLinks.pop();\r\n    emojiLinks.pop();\r\n    emojiLinks.pop();\r\n    const emojiPanel = (\r\n      <div id=\"emoji-panel-outer\">\r\n        <div\r\n          id=\"emoji-panel\"\r\n          className={\r\n            isExpanded ? \"emoji-panel-expanded\" : \"emoji-panel-collapsed\"\r\n          }\r\n        >\r\n          <div id=\"emoji-panel-text-wrapper\">{emojiLinks}</div>\r\n        </div>\r\n\r\n        <Button\r\n          id={\r\n            isExpanded\r\n              ? \"emoji-panel-collapse-button\"\r\n              : \"emoji-panel-expand-button\"\r\n          }\r\n          size=\"large\"\r\n          icon={isExpanded ? \"angle double up\" : \"angle double down\"}\r\n          onClick={() => this.handleEmojiPanelExpandClick()}\r\n        />\r\n      </div>\r\n    );\r\n\r\n    return <div>{emojiPanel}</div>;\r\n  }\r\n}\r\n\r\nexport default withRouter(EmojiPanel);\r\n","import { Button } from \"semantic-ui-react\";\r\nimport React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { getConfig } from \"../../utils/config\";\r\nimport { emojis } from \"../../utils/emojis\";\r\nimport { apiErrorHandler } from \"../../utils/errorhandler\";\r\nimport Gallery from \"../gallery\";\r\nimport Loader from \"../loader\";\r\nimport EmojiPanel from \"../emojipanel\";\r\nimport { API_URL } from \"../../api/constants\";\r\nimport store from \"../../store\";\r\nimport \"./styles.css\";\r\n\r\nexport default class Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      pictureselfs: [],\r\n      isLoading: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchPictureselfsIndex();\r\n  }\r\n\r\n  fetchPictureselfsIndexApi = () => {\r\n    let config = store.getState().auth.isAuthenticated\r\n      ? getConfig()\r\n      : { params: store.getState().customize };\r\n    return axios.get(API_URL + \"p/index/\", config);\r\n  };\r\n\r\n  fetchPictureselfsIndex = () => {\r\n    this.fetchPictureselfsIndexApi()\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            pictureselfs: response.data,\r\n          },\r\n          () => {\r\n            this.setState({ isLoading: false });\r\n          }\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        //alert(error);\r\n        // to do\r\n        alert(errorMessage);\r\n      });\r\n  };\r\n\r\n  shuffle = (a) => {\r\n    var j, x, i;\r\n    for (i = a.length - 1; i > 0; i--) {\r\n      j = Math.floor(Math.random() * (i + 1));\r\n      x = a[i];\r\n      a[i] = a[j];\r\n      a[j] = x;\r\n    }\r\n    return a;\r\n  };\r\n\r\n  render() {\r\n    const { isLoading, pictureselfs } = this.state;\r\n    if (isLoading) {\r\n      return (\r\n        <div>\r\n          <EmojiPanel isExpanded={false} scrollTop={0} />\r\n          <div style={{ \"margin-top\": \"35px\" }}>\r\n            <Loader />\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      const COLUMN_WIDTH = 200;\r\n      const GUTTER_WIDTH = 40;\r\n      const GUTTER_HEIGHT = 20;\r\n      return (\r\n        <div>\r\n          <EmojiPanel isExpanded={false} scrollTop={0} />\r\n          <p id=\"home-title\">Trending</p>\r\n          <Gallery\r\n            columnWidth={COLUMN_WIDTH}\r\n            gutterWidth={GUTTER_WIDTH}\r\n            gutterHeight={GUTTER_HEIGHT}\r\n            pictureselfs={this.shuffle(pictureselfs)}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Popup, Menu } from \"semantic-ui-react\";\r\n\r\nimport \"./styles.css\";\r\n\r\nclass About extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <p id=\"about-title\">About</p>\r\n        <p id=\"about-text\">Pictureself - Customizable Stickers</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(About);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Popup, Menu } from \"semantic-ui-react\";\r\n\r\nimport \"./styles.css\";\r\n\r\nclass Blog extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <p id=\"blog-title\">Blog</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Blog);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Popup, Menu } from \"semantic-ui-react\";\r\n\r\nimport \"./styles.css\";\r\n\r\nclass Help extends Component {\r\n  render() {\r\n    const layersExampleTitles = [\r\n      \"square face shape\",\r\n      \"mouth\",\r\n      \"nose\",\r\n      \"green eyes\",\r\n      \"eyebrows\",\r\n      \"glasses\",\r\n      \"hait\",\r\n      \"hat\"\r\n    ];\r\n    const layersExample = layersExampleTitles.reverse().map((title, index) => (\r\n      <p\r\n        style={{\r\n          margin: \"auto\",\r\n          \"margin-bottom\": \"5px\",\r\n          \"text-align\": \"center\",\r\n          width: \"350px\",\r\n          \"border-style\": index == 4 || index == 7 ? \"solid\" : \"dashed\",\r\n          \"border-width\": \"1px\"\r\n        }}\r\n      >\r\n        {title} layer\r\n      </p>\r\n    ));\r\n    return (\r\n      <div>\r\n        <p id=\"help-title\">Help</p>\r\n        <p id=\"help-howitworks-title\">How It Works</p>\r\n        <p id=\"help-howitworks\">\r\n          A <b>pictureself</b> consists of customizable layers represented\r\n          through <b>features</b>.\r\n          <br />\r\n          For example, \"face shape\" + \"mouth\" + \"nose\" + \"eyes\" + \"eyebrows\" +\r\n          \"glasses\" + \"hair\" + \"hat\".\r\n          <br />\r\n          <br />A feature can have different implementations - <b>variants</b>:\r\n          \"face shape\" - [\"round\", \"oval\", \"square\" etc.], \"eyes\" -\r\n          [\"brown\",\"blue\",\"green\" etc.]\r\n          <br />\r\n          <br /> Implementation depends on <b>customization</b> performed by a\r\n          user.\r\n          <br />\r\n          So if a user choses, for example, \"face shape\" as \"square\" and \"eyes\"\r\n          as \"green\" the pictureself will be composed as follows:\r\n          <br />\r\n          <br />\r\n          <p style={{ \"text-align\": \"center\" }}>{layersExample}</p>\r\n          <br />\r\n          Including a feature in different pictureselfs(surprised, angry, happy\r\n          etc.) means different implementation with the same customization.{\" \"}\r\n          <br />\r\n          Thus if a user have already chosen \"green\"for \"eyes\" feature - in the\r\n          pictureself that represents, for example, a surprised state -\r\n          customization remains - eyes would be green but widened.\r\n          <br />\r\n          This means that the creator includes feature and provides\r\n          corresponding variants in the same order: for eyes that would be brown\r\n          widened, blue widened, green widened.\r\n          <br />\r\n          <br />\r\n          In general, a feature is just the index of the variant chosen by a\r\n          user. So if a user chooses green that means that whenever this feature\r\n          is included in other pictureselfs for this particular user the variant\r\n          number 3 would be displayed.\r\n          <br /> <br />\r\n          If implementation of included feature should be the same as in the\r\n          original pictureself \"import variants\" checkbox can be used to import\r\n          corresponding images.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Help);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Popup, Menu } from \"semantic-ui-react\";\r\n\r\nimport \"./styles.css\";\r\n\r\nclass Privacy extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <p id=\"privacy-title\">Privacy</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Privacy);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Popup, Menu } from \"semantic-ui-react\";\r\n\r\nimport \"./styles.css\";\r\n\r\nclass Terms extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <p id=\"terms-title\">Terms</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Terms);\r\n","import {\r\n  Button,\r\n  Checkbox,\r\n  Form,\r\n  Dropdown,\r\n  Message,\r\n  Icon,\r\n  Modal,\r\n  Header,\r\n} from \"semantic-ui-react\";\r\nimport React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { getConfig } from \"../../utils/config\";\r\nimport { apiErrorHandler } from \"../../utils/errorhandler\";\r\nimport Gallery from \"../gallery\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loader from \"../loader\";\r\nimport { API_URL } from \"../../api/constants\";\r\nimport store from \"../../store\";\r\nimport EmojiPanel from \"../emojipanel\";\r\nimport \"./styles.css\";\r\n\r\nexport default class SearchResults extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      pictureselfs: [],\r\n      isLoading: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchPictureselfsSearch();\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.search !== prevProps.location.search) {\r\n      this.fetchPictureselfsSearch();\r\n    }\r\n  }\r\n\r\n  fetchPictureselfsSearchApi = () => {\r\n    let config = store.getState().auth.isAuthenticated\r\n      ? getConfig()\r\n      : { params: store.getState().customize };\r\n    const search = this.props.location.search;\r\n    const params = new URLSearchParams(search);\r\n    const query = params.get(\"q\");\r\n    return axios.get(API_URL + \"p/search/\" + query, config);\r\n  };\r\n\r\n  fetchPictureselfsSearch = () => {\r\n    this.fetchPictureselfsSearchApi()\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            pictureselfs: response.data,\r\n          },\r\n          () => {\r\n            this.setState({ isLoading: false });\r\n          }\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        //alert(error);\r\n        // to do\r\n        alert(errorMessage);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    const search = this.props.location.search;\r\n    const params = new URLSearchParams(search);\r\n    const xpnd = params.get(\"xpnd\") === \"true\";\r\n    const parsedScr = parseFloat(params.get(\"scr\"));\r\n    const scr = !isNaN(parsedScr) ? parsedScr : 0;\r\n\r\n    const noResultsMessage =\r\n      this.state.pictureselfs.length == 0 ? (\r\n        <p id=\"search-no-results-message\">No results</p>\r\n      ) : null;\r\n    if (isLoading) {\r\n      return (\r\n        <div>\r\n          <EmojiPanel isExpanded={xpnd} scrollTop={scr} />\r\n          <div style={{ \"margin-top\": \"35px\" }}>\r\n            <Loader />\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      const COLUMN_WIDTH = 200;\r\n      const GUTTER_WIDTH = 40;\r\n      const GUTTER_HEIGHT = 20;\r\n      return (\r\n        <div>\r\n          <EmojiPanel isExpanded={xpnd} scrollTop={scr} />\r\n          {noResultsMessage}\r\n          <Gallery\r\n            columnWidth={COLUMN_WIDTH}\r\n            gutterWidth={GUTTER_WIDTH}\r\n            gutterHeight={GUTTER_HEIGHT}\r\n            pictureselfs={this.state.pictureselfs}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { Fragment } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport HeaderContainer from \"./containers/header\";\nimport ModalContainer from \"./containers/modal\";\nimport LoginRegisterPage from \"./containers/loginregisterpage\";\nimport UserProfileContainer from \"./containers/userprofile\";\nimport UsersContainer from \"./containers/users\";\nimport NotFoundPage from \"./components/notfoundpage\";\nimport EditPictureself from \"./components/editpictureself\";\nimport CreatePN from \"./components/createpn\";\nimport Likes from \"./components/likes\";\nimport SubscriptionList from \"./components/subscriptionlist\";\nimport PrivateRoute from \"./components/privateroute\";\nimport P from \"./components/p\";\nimport CustomizeContainer from \"./containers/customize\";\nimport Home from \"./components/home\";\nimport About from \"./components/about\";\nimport Blog from \"./components/blog\";\nimport Help from \"./components/help\";\nimport Privacy from \"./components/privacy\";\nimport Terms from \"./components/terms\";\nimport SearchResults from \"./components/searchresults\";\nimport store, { persistor } from \"./store\";\nimport Loader from \"./components/loader\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={<Loader />} persistor={persistor}>\n      <Router>\n        <Fragment>\n          <header className=\"header-background\" />\n          <div className=\"app-layout\">\n            <HeaderContainer />\n            <Switch>\n              <Route path=\"/browse\" component={UsersContainer} />\n              <Route path=\"/about\" component={About} />\n              <Route path=\"/blog\" component={Blog} />\n              <Route path=\"/help\" component={Help} />\n              <Route path=\"/privacy\" component={Privacy} />\n              <Route path=\"/terms\" component={Terms} />\n              <Route path=\"/login\" component={LoginRegisterPage} />\n              <PrivateRoute path=\"/likes\" component={Likes} />\n              <PrivateRoute\n                path=\"/subscriptions\"\n                component={SubscriptionList}\n              />\n              <Route path=\"/search\" component={SearchResults} />\n              <Route\n                path=\"/p/:pictureself/customize\"\n                component={CustomizeContainer}\n              />\n              <PrivateRoute\n                path=\"/p/:pictureself/edit\"\n                component={EditPictureself}\n              />\n              <PrivateRoute path=\"/createpn\" component={CreatePN} />\n              <Route path=\"/p/:pictureself/like\" component={P} />\n              <Route path=\"/p/:pictureself\" component={P} />\n              <Route exact path=\"/\" component={Home} />\n              <Route\n                path=\"/:username/customize\"\n                component={CustomizeContainer}\n              />\n              <Route path=\"/:username\" component={UserProfileContainer} />\n              <Route component={NotFoundPage} />\n            </Switch>\n            <br />\n          </div>\n          <ModalContainer />\n        </Fragment>\n      </Router>\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}